(function(){var e=Object.defineProperty,t=(e,t)=>()=>(e&&(t=e(e=0)),t),n=t=>{let n={};for(var r in t)e(n,r,{get:t[r],enumerable:!0});return n};let r={quality:50,qualityAlpha:-1,denoiseLevel:0,tileColsLog2:0,tileRowsLog2:0,speed:6,subsample:1,chromaDeltaQ:!1,sharpness:0,tune:0,enableSharpYUV:!1,bitDepth:8,lossless:!1};function i(e,t,n={}){let r;return t&&(r=(e,n)=>{let r=new WebAssembly.Instance(t,e);return n(r),r.exports}),e({noInitialRun:!0,instantiateWasm:r,...n})}let a=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),o=()=>(async e=>{try{return typeof MessageChannel<`u`&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));var s=n({default:()=>u}),c,l,u,d=t((()=>{c={url:self.location.href},l=(()=>{var e=self.location.href;return(function(t={}){function n(){return T.buffer!=se.buffer&&D(),se}function r(){return T.buffer!=se.buffer&&D(),ce}function i(){return T.buffer!=se.buffer&&D(),le}function a(){return T.buffer!=se.buffer&&D(),ue}function o(){return T.buffer!=se.buffer&&D(),de}function s(){return T.buffer!=se.buffer&&D(),fe}function l(){return T.buffer!=se.buffer&&D(),E}function u(){return T.buffer!=se.buffer&&D(),pe}var d=t,f,p,m=new Promise((e,t)=>{f=e,p=t});let ee=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<`u`&&globalThis.caches&&globalThis.caches.default!==void 0,te=typeof process==`object`&&process.release&&process.release.name===`node`;(ee||te)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(e,t,n){this.data=e,this.width=t,this.height=n}}),self.location.href===void 0&&(c.url=`https://localhost`),typeof self<`u`&&self.location===void 0&&(self.location={href:``}));var h=Object.assign({},d),ne=(e,t)=>{throw t},g=typeof window==`object`,_=typeof importScripts==`function`,v=typeof process==`object`&&typeof process.versions==`object`&&typeof process.versions.node==`string`,y=d.ENVIRONMENT_IS_PTHREAD||!1,b=``;function x(e){return d.locateFile?d.locateFile(e,b):b+e}var S;(g||_)&&(_?b=self.location.href:typeof document<`u`&&document.currentScript&&(b=document.currentScript.src),e&&(b=e),b=b.startsWith(`blob:`)?``:b.substr(0,b.replace(/[?#].*/,``).lastIndexOf(`/`)+1),_&&(S=e=>{var t=new XMLHttpRequest;return t.open(`GET`,e,!1),t.responseType=`arraybuffer`,t.send(null),new Uint8Array(t.response)}));var C=d.print||console.log.bind(console),w=d.printErr||console.error.bind(console);Object.assign(d,h),h=null,d.arguments&&d.arguments,d.thisProgram&&d.thisProgram,d.quit&&(ne=d.quit);var re;d.wasmBinary&&(re=d.wasmBinary);var T,ie,ae=!1,oe,se,ce,le,ue,de,fe,E,pe;function D(){var e=T.buffer;d.HEAP8=se=new Int8Array(e),d.HEAP16=le=new Int16Array(e),d.HEAPU8=ce=new Uint8Array(e),d.HEAPU16=ue=new Uint16Array(e),d.HEAP32=de=new Int32Array(e),d.HEAPU32=fe=new Uint32Array(e),d.HEAPF32=E=new Float32Array(e),d.HEAPF64=pe=new Float64Array(e)}var me=d.INITIAL_MEMORY||16777216;if(y)T=d.wasmMemory;else if(d.wasmMemory)T=d.wasmMemory;else if(T=new WebAssembly.Memory({initial:me/65536,maximum:2147483648/65536,shared:!0}),!(T.buffer instanceof SharedArrayBuffer))throw w(`requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag`),v&&w(`(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)`),Error(`bad memory`);D(),me=T.buffer.byteLength;var he=[],ge=[],_e=[];function ve(){if(d.preRun)for(typeof d.preRun==`function`&&(d.preRun=[d.preRun]);d.preRun.length;)be(d.preRun.shift());Fe(he)}function ye(){y||Fe(ge)}function O(){if(!y){if(d.postRun)for(typeof d.postRun==`function`&&(d.postRun=[d.postRun]);d.postRun.length;)k(d.postRun.shift());Fe(_e)}}function be(e){he.unshift(e)}function xe(e){ge.unshift(e)}function k(e){_e.unshift(e)}var A=0,Se=null,j=null;function M(e){A++,d.monitorRunDependencies?.(A)}function Ce(e){if(A--,d.monitorRunDependencies?.(A),A==0&&(Se!==null&&(clearInterval(Se),Se=null),j)){var t=j;j=null,t()}}function we(e){d.onAbort?.(e),e=`Aborted(`+e+`)`,w(e),ae=!0,oe=1,e+=`. Build with -sASSERTIONS for more info.`;var t=new WebAssembly.RuntimeError(e);throw p(t),t}var Te=`data:application/octet-stream;base64,`,Ee=e=>e.startsWith(Te),De;d.locateFile?(De=`avif_enc_mt.wasm`,Ee(De)||(De=x(De))):De=new URL(`/convert/assets/avif_enc_mt-DFoVXd45.wasm`,``+self.location.href).href;function Oe(e){if(e==De&&re)return new Uint8Array(re);if(S)return S(e);throw`both async and sync fetching of the wasm failed`}function N(e){return!re&&(g||_)&&typeof fetch==`function`?fetch(e,{credentials:`same-origin`}).then(t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()}).catch(()=>Oe(e)):Promise.resolve().then(()=>Oe(e))}function ke(e,t,n){return N(e).then(e=>WebAssembly.instantiate(e,t)).then(n,e=>{w(`failed to asynchronously prepare wasm: ${e}`),we(e)})}function P(e,t,n,r){return!e&&typeof WebAssembly.instantiateStreaming==`function`&&!Ee(t)&&typeof fetch==`function`?fetch(t,{credentials:`same-origin`}).then(e=>WebAssembly.instantiateStreaming(e,n).then(r,function(e){return w(`wasm streaming compile failed: ${e}`),w(`falling back to ArrayBuffer instantiation`),ke(t,n,r)})):ke(t,n,r)}function F(){var e={a:Xn};function t(e,t){return $=e.exports,ze($.ia),Le=$.ka,xe($.ca),ie=t,Ce(`wasm-instantiate`),$}M(`wasm-instantiate`);function n(e){t(e.instance,e.module)}if(d.instantiateWasm)try{return d.instantiateWasm(e,t)}catch(e){w(`Module.instantiateWasm callback failed with error: ${e}`),p(e)}return P(re,De,e,n).catch(p),{}}var I={618220:()=>{throw Error(`Invalid bit depth. Supported values are 8, 10, or 12.`)}};function L(e){this.name=`ExitStatus`,this.message=`Program terminated with exit(${e})`,this.status=e}var Ae=e=>{e.terminate(),e.onmessage=e=>{}},R=e=>{var t=Y.pthreads[e];delete Y.pthreads[e],Ae(t),lr(e),Y.runningWorkers.splice(Y.runningWorkers.indexOf(t),1),t.pthread_ptr=0},je=e=>{Y.pthreads[e].postMessage({cmd:`cancel`})},Me=e=>{var t=Y.pthreads[e];Y.returnWorkerToPool(t)},Ne=e=>{var t=Y.getNewWorker();if(!t)return 6;Y.runningWorkers.push(t),Y.pthreads[e.pthread_ptr]=t,t.pthread_ptr=e.pthread_ptr;var n={cmd:`run`,start_routine:e.startRoutine,arg:e.arg,pthread_ptr:e.pthread_ptr};return t.postMessage(n,e.transferList),0},Pe=0,z=()=>Re||Pe>0,B=()=>gr(),V=e=>mr(e),H=e=>{var t=B(),n=e();return V(t),n},U=e=>hr(e),W=(e,t)=>t+2097152>>>0<4194305-!!e?(e>>>0)+t*4294967296:NaN,G=(e,t,n,...r)=>H(()=>{for(var i=r.length,a=U(i*8),o=a>>3,s=0;s<r.length;s++){var c=r[s];u()[o+s]=c}return cr(e,t,i,a,n)});function K(e){if(y)return G(0,0,1,e);oe=e,z()||(Y.terminateAllThreads(),d.onExit?.(e),ae=!0),ne(e,new L(e))}var q=(e,t)=>{if(oe=e,y)throw Ie(e),`unwind`;K(e)},J=e=>{if(e instanceof L||e==`unwind`)return oe;ne(1,e)},Y={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init(){y?Y.initWorker():Y.initMainThread()},initMainThread(){for(var e=navigator.hardwareConcurrency;e--;)Y.allocateUnusedWorker();be(()=>{M(`loading-workers`),Y.loadWasmModuleToAllWorkers(()=>Ce(`loading-workers`))})},initWorker(){Re=!1},setExitStatus:e=>oe=e,terminateAllThreads__deps:[`$terminateWorker`],terminateAllThreads:()=>{for(var e of Y.runningWorkers)Ae(e);for(var e of Y.unusedWorkers)Ae(e);Y.unusedWorkers=[],Y.runningWorkers=[],Y.pthreads=[]},returnWorkerToPool:e=>{var t=e.pthread_ptr;delete Y.pthreads[t],Y.unusedWorkers.push(e),Y.runningWorkers.splice(Y.runningWorkers.indexOf(e),1),e.pthread_ptr=0,lr(t)},receiveObjectTransfer(e){},threadInitTLS(){Y.tlsInitFunctions.forEach(e=>e())},loadWasmModuleToWorker:e=>new Promise(t=>{e.onmessage=n=>{var r=n.data,i=r.cmd;if(r.targetThread&&r.targetThread!=er()){var a=Y.pthreads[r.targetThread];a?a.postMessage(r,r.transferList):w(`Internal error! Worker sent a message "${i}" to target pthread ${r.targetThread}, but that thread no longer exists!`);return}i===`checkMailbox`?ln():i===`spawnThread`?Ne(r):i===`cleanupThread`?Me(r.thread):i===`killThread`?R(r.thread):i===`cancelThread`?je(r.thread):i===`loaded`?(e.loaded=!0,t(e)):i===`alert`?alert(`Thread ${r.threadId}: ${r.text}`):r.target===`setimmediate`?e.postMessage(r):i===`callHandler`?d[r.handler](...r.args):i&&w(`worker sent an unknown command ${i}`)},e.onerror=e=>{throw w(`worker sent an error! ${e.filename}:${e.lineno}: ${e.message}`),e};var n=[];for(var r of[`onExit`,`onAbort`,`print`,`printErr`])d.hasOwnProperty(r)&&n.push(r);e.postMessage({cmd:`load`,handlers:n,urlOrBlob:d.mainScriptUrlOrBlob,wasmMemory:T,wasmModule:ie})}),loadWasmModuleToAllWorkers(e){if(y)return e();Promise.all(Y.unusedWorkers.map(Y.loadWasmModuleToWorker)).then(e)},allocateUnusedWorker(){var e;if(!d.locateFile)e=new Worker(new URL(`/convert/assets/avif_enc_mt.worker-B0lUa7om.js`,``+self.location.href),{type:`module`});else{var t=x(`avif_enc_mt.worker.mjs`);e=new Worker(t,{type:`module`})}Y.unusedWorkers.push(e)},getNewWorker(){return Y.unusedWorkers.length==0&&(Y.allocateUnusedWorker(),Y.loadWasmModuleToWorker(Y.unusedWorkers[0])),Y.unusedWorkers.pop()}};d.PThread=Y;var Fe=e=>{for(;e.length>0;)e.shift()(d)};d.establishStackSpace=()=>{var e=er(),t=s()[e+52>>2],n=t-s()[e+56>>2];pr(t,n),V(t)};function Ie(e){if(y)return G(1,0,0,e);q(e)}var Le,X=e=>Le.get(e);d.invokeEntryPoint=(e,t)=>{Pe=0;var n=X(e)(t);function r(e){z()?Y.setExitStatus(e):ur(e)}r(n)};var Re=d.noExitRuntime||!0,ze=e=>Y.tlsInitFunctions.push(e),Be=(e,t,n)=>{for(var r=t+n,i=``;!(t>=r);){var a=e[t++];if(!a)return i;if(!(a&128)){i+=String.fromCharCode(a);continue}var o=e[t++]&63;if((a&224)==192){i+=String.fromCharCode((a&31)<<6|o);continue}var s=e[t++]&63;if(a=(a&240)==224?(a&15)<<12|o<<6|s:(a&7)<<18|o<<12|s<<6|e[t++]&63,a<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|c&1023)}}return i},Ve=(e,t)=>e?Be(r(),e,t):``,He=(e,t,n,r)=>{we(`Assertion failed: ${Ve(e)}, at: `+[t?Ve(t):`unknown filename`,n,r?Ve(r):`unknown function`])},Ue=e=>{ir(e,!_,1,!g,5242880,!1),Y.threadInitTLS()},We=e=>{y?postMessage({cmd:`cleanupThread`,thread:e}):Me(e)};function Ge(e,t,n,r){return y?G(2,0,1,e,t,n,r):Ke(e,t,n,r)}var Ke=(e,t,n,r)=>{if(typeof SharedArrayBuffer>`u`)return w(`Current environment does not support SharedArrayBuffer, pthreads are not available!`),6;var i=[],a=0;if(y&&(i.length===0||a))return Ge(e,t,n,r);if(a)return a;var o={startRoutine:n,pthread_ptr:e,arg:r,transferList:i};return y?(o.cmd=`spawnThread`,postMessage(o,i),0):Ne(o)},qe={varargs:void 0,getStr(e){return Ve(e)}};function Je(e,t,n){return y?G(3,0,1,e,t,n):(qe.varargs=n,0)}function Ye(e,t,n){return y?G(4,0,1,e,t,n):(qe.varargs=n,0)}function Xe(e,t,n,r){if(y)return G(5,0,1,e,t,n,r);qe.varargs=r}var Ze={},Qe=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function Z(e){return this.fromWireType(s()[e>>2])}var $e={},et={},tt={},nt,rt=e=>{throw new nt(e)},it=(e,t,n)=>{e.forEach(function(e){tt[e]=t});function r(t){var r=n(t);r.length!==e.length&&rt(`Mismatched type converter count`);for(var i=0;i<e.length;++i)pt(e[i],r[i])}var i=Array(t.length),a=[],o=0;t.forEach((e,t)=>{et.hasOwnProperty(e)?i[t]=et[e]:(a.push(e),$e.hasOwnProperty(e)||($e[e]=[]),$e[e].push(()=>{i[t]=et[e],++o,o===a.length&&r(i)}))}),a.length===0&&r(i)},at=e=>{var t=Ze[e];delete Ze[e];var n=t.rawConstructor,r=t.rawDestructor,i=t.fields,a=i.map(e=>e.getterReturnType).concat(i.map(e=>e.setterArgumentType));it([e],a,e=>{var a={};return i.forEach((t,n)=>{var r=t.fieldName,o=e[n],s=t.getter,c=t.getterContext,l=e[n+i.length],u=t.setter,d=t.setterContext;a[r]={read:e=>o.fromWireType(s(c,e)),write:(e,t)=>{var n=[];u(d,e,l.toWireType(n,t)),Qe(n)}}}),[{name:t.name,fromWireType:e=>{var t={};for(var n in a)t[n]=a[n].read(e);return r(e),t},toWireType:(e,t)=>{for(var i in a)if(!(i in t))throw TypeError(`Missing field: "${i}"`);var o=n();for(i in a)a[i].write(o,t[i]);return e!==null&&e.push(r,o),o},argPackAdvance:mt,readValueFromPointer:Z,destructorFunction:r}]})},ot=(e,t,n,r,i)=>{},st=()=>{for(var e=Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);ct=e},ct,lt=e=>{for(var t=``,n=e;r()[n];)t+=ct[r()[n++]];return t},ut,dt=e=>{throw new ut(e)};function ft(e,t,n={}){var r=t.name;if(e||dt(`type "${r}" must have a positive integer typeid pointer`),et.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;dt(`Cannot register type '${r}' twice`)}if(et[e]=t,delete tt[e],$e.hasOwnProperty(e)){var i=$e[e];delete $e[e],i.forEach(e=>e())}}function pt(e,t,n={}){if(!(`argPackAdvance`in t))throw TypeError(`registerType registeredInstance requires argPackAdvance`);return ft(e,t,n)}var mt=8,ht=(e,t,n,i)=>{t=lt(t),pt(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:i},argPackAdvance:mt,readValueFromPointer:function(e){return this.fromWireType(r()[e])},destructorFunction:null})},gt=[],_t=[],vt=e=>{e>9&&--_t[e+1]===0&&(_t[e]=void 0,gt.push(e))},yt=()=>_t.length/2-5-gt.length,bt=()=>{_t.push(0,1,void 0,1,null,1,!0,1,!1,1),d.count_emval_handles=yt},xt={toValue:e=>(e||dt(`Cannot use deleted val. handle = `+e),_t[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let t=gt.pop()||_t.length;return _t[t]=e,_t[t+1]=1,t}}}},St={name:`emscripten::val`,fromWireType:e=>{var t=xt.toValue(e);return vt(e),t},toWireType:(e,t)=>xt.toHandle(t),argPackAdvance:mt,readValueFromPointer:Z,destructorFunction:null},Ct=e=>pt(e,St),wt=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(l()[e>>2])};case 8:return function(e){return this.fromWireType(u()[e>>3])};default:throw TypeError(`invalid float width (${t}): ${e}`)}},Tt=(e,t,n)=>{t=lt(t),pt(e,{name:t,fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:mt,readValueFromPointer:wt(t,n),destructorFunction:null})},Et=(e,t)=>Object.defineProperty(t,`name`,{value:e});function Dt(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function Ot(e,t,n,r,i,a){var o=t.length;o<2&&dt(`argTypes array size mismatch! Must at least get return value and 'this' types!`);var s=t[1]!==null&&n!==null,c=Dt(t),l=t[0].name!==`void`,u=o-2,d=Array(u),f=[],p=[];return Et(e,function(...n){n.length!==u&&dt(`function ${e} called with ${n.length} arguments, expected ${u}`),p.length=0;var a;f.length=s?2:1,f[0]=i,s&&(a=t[1].toWireType(p,this),f[1]=a);for(var o=0;o<u;++o)d[o]=t[o+2].toWireType(p,n[o]),f.push(d[o]);var m=r(...f);function ee(e){if(c)Qe(p);else for(var n=s?1:2;n<t.length;n++){var r=n===1?a:d[n-2];t[n].destructorFunction!==null&&t[n].destructorFunction(r)}if(l)return t[0].fromWireType(e)}return ee(m)})}var kt=(e,t,n)=>{if(e[t].overloadTable===void 0){var r=e[t];e[t]=function(...r){return e[t].overloadTable.hasOwnProperty(r.length)||dt(`Function '${n}' called with an invalid number of arguments (${r.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[r.length].apply(this,r)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}},At=(e,t,n)=>{d.hasOwnProperty(e)?((n===void 0||d[e].overloadTable!==void 0&&d[e].overloadTable[n]!==void 0)&&dt(`Cannot register public name '${e}' twice`),kt(d,e,e),d.hasOwnProperty(n)&&dt(`Cannot register multiple overloads of a function with the same number of arguments (${n})!`),d[e].overloadTable[n]=t):(d[e]=t,n!==void 0&&(d[e].numArguments=n))},jt=(e,t)=>{for(var n=[],r=0;r<e;r++)n.push(s()[t+r*4>>2]);return n},Mt=(e,t,n)=>{d.hasOwnProperty(e)||rt(`Replacing nonexistent public symbol`),d[e].overloadTable!==void 0&&n!==void 0?d[e].overloadTable[n]=t:(d[e]=t,d[e].argCount=n)},Nt=(e,t,n)=>{e=e.replace(/p/g,`i`);var r=d[`dynCall_`+e];return r(t,...n)},Pt=(e,t,n=[])=>e.includes(`j`)?Nt(e,t,n):X(t)(...n),Ft=(e,t)=>(...n)=>Pt(e,t,n),It=(e,t)=>{e=lt(e);function n(){return e.includes(`j`)?Ft(e,t):X(t)}var r=n();return typeof r!=`function`&&dt(`unknown function pointer with signature ${e}: ${t}`),r},Lt=(e,t)=>{var n=Et(t,function(e){this.name=t,this.message=e;var n=Error(e).stack;n!==void 0&&(this.stack=this.toString()+`
`+n.replace(/^Error(:[^\n]*)?\n/,``))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n},Rt,zt=e=>{var t=Qn(e),n=lt(t);return nr(t),n},Bt=(e,t)=>{var n=[],r={};function i(e){if(!r[e]&&!et[e]){if(tt[e]){tt[e].forEach(i);return}n.push(e),r[e]=!0}}throw t.forEach(i),new Rt(`${e}: `+n.map(zt).join([`, `]))},Vt=e=>{e=e.trim();let t=e.indexOf(`(`);return t===-1?e:e.substr(0,t)},Ht=(e,t,n,r,i,a,o)=>{var s=jt(t,n);e=lt(e),e=Vt(e),i=It(r,i),At(e,function(){Bt(`Cannot call ${e} due to unbound types`,s)},t-1),it([],s,n=>{var r=[n[0],null].concat(n.slice(1));return Mt(e,Ot(e,r,null,i,a,o),t-1),[]})},Ut=(e,t,c)=>{switch(t){case 1:return c?e=>n()[e]:e=>r()[e];case 2:return c?e=>i()[e>>1]:e=>a()[e>>1];case 4:return c?e=>o()[e>>2]:e=>s()[e>>2];default:throw TypeError(`invalid integer width (${t}): ${e}`)}},Wt=(e,t,n,r,i)=>{t=lt(t),i===-1&&(i=4294967295);var a=e=>e;if(r===0){var o=32-8*n;a=e=>e<<o>>>o}var s=t.includes(`unsigned`);pt(e,{name:t,fromWireType:a,toWireType:s?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:mt,readValueFromPointer:Ut(t,n,r!==0),destructorFunction:null})},Gt=(e,t,r)=>{var i=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function a(e){var t=s()[e>>2],r=s()[e+4>>2];return new i(n().buffer,r,t)}r=lt(r),pt(e,{name:r,fromWireType:a,argPackAdvance:mt,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},Kt=(e,t,n,r)=>{if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){var c=e.charCodeAt(++o);s=65536+((s&1023)<<10)|c&1023}if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|s&63}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|s&63}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|s&63}}return t[n]=0,n-i},qt=(e,t,n)=>Kt(e,r(),t,n),Jt=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t},Yt=(e,t)=>{t=lt(t);var n=t===`std::string`;pt(e,{name:t,fromWireType(e){var t=s()[e>>2],i=e+4,a;if(n)for(var o=i,c=0;c<=t;++c){var l=i+c;if(c==t||r()[l]==0){var u=l-o,d=Ve(o,u);a===void 0?a=d:(a+=`\0`,a+=d),o=l+1}}else{for(var f=Array(t),c=0;c<t;++c)f[c]=String.fromCharCode(r()[i+c]);a=f.join(``)}return nr(e),a},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var i,a=typeof t==`string`;a||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||dt(`Cannot pass non-string to std::string`),i=n&&a?Jt(t):t.length;var o=tr(4+i+1),c=o+4;if(s()[o>>2]=i,n&&a)qt(t,c,i+1);else if(a)for(var l=0;l<i;++l){var u=t.charCodeAt(l);u>255&&(nr(c),dt(`String has UTF-16 code units that do not fit in 8 bits`)),r()[c+l]=u}else for(var l=0;l<i;++l)r()[c+l]=t[l];return e!==null&&e.push(nr,o),o},argPackAdvance:mt,readValueFromPointer:Z,destructorFunction(e){nr(e)}})},Xt=(e,t)=>{for(var n=``,r=0;!(r>=t/2);++r){var a=i()[e+r*2>>1];if(a==0)break;n+=String.fromCharCode(a)}return n},Zt=(e,t,n)=>{if(n??=2147483647,n<2)return 0;n-=2;for(var r=t,a=n<e.length*2?n/2:e.length,o=0;o<a;++o){var s=e.charCodeAt(o);i()[t>>1]=s,t+=2}return i()[t>>1]=0,t-r},Qt=e=>e.length*2,Q=(e,t)=>{for(var n=0,r=``;!(n>=t/4);){var i=o()[e+n*4>>2];if(i==0)break;if(++n,i>=65536){var a=i-65536;r+=String.fromCharCode(55296|a>>10,56320|a&1023)}else r+=String.fromCharCode(i)}return r},$t=(e,t,n)=>{if(n??=2147483647,n<4)return 0;for(var r=t,i=r+n-4,a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s>=55296&&s<=57343){var c=e.charCodeAt(++a);s=65536+((s&1023)<<10)|c&1023}if(o()[t>>2]=s,t+=4,t+4>i)break}return o()[t>>2]=0,t-r},en=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t},tn=(e,t,n)=>{n=lt(n);var r,i,o,c;t===2?(r=Xt,i=Zt,c=Qt,o=e=>a()[e>>1]):t===4&&(r=Q,i=$t,c=en,o=e=>s()[e>>2]),pt(e,{name:n,fromWireType:e=>{for(var n=s()[e>>2],i,a=e+4,c=0;c<=n;++c){var l=e+4+c*t;if(c==n||o(l)==0){var u=l-a,d=r(a,u);i===void 0?i=d:(i+=`\0`,i+=d),a=l+t}}return nr(e),i},toWireType:(e,r)=>{typeof r!=`string`&&dt(`Cannot pass non-string to C++ string type ${n}`);var a=c(r),o=tr(4+a+t);return s()[o>>2]=a/t,i(r,o+4,a+t),e!==null&&e.push(nr,o),o},argPackAdvance:mt,readValueFromPointer:Z,destructorFunction(e){nr(e)}})},nn=(e,t,n,r,i,a)=>{Ze[e]={name:lt(t),rawConstructor:It(n,r),rawDestructor:It(i,a),fields:[]}},rn=(e,t,n,r,i,a,o,s,c,l)=>{Ze[e].fields.push({fieldName:lt(t),getterReturnType:n,getter:It(r,i),getterContext:a,setterArgumentType:o,setter:It(s,c),setterContext:l})},an=(e,t)=>{t=lt(t),pt(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>void 0,toWireType:(e,t)=>void 0})},on=()=>{if(!z())try{y?ur(oe):q(oe)}catch(e){J(e)}},sn=e=>{if(!ae)try{e(),on()}catch(e){J(e)}},cn=e=>{if(typeof Atomics.waitAsync==`function`){Atomics.waitAsync(o(),e>>2,e).value.then(ln);var t=e+128;Atomics.store(o(),t>>2,1)}};d.__emscripten_thread_mailbox_await=cn;var ln=()=>{var e=er();e&&(cn(e),sn(dr))};d.checkMailbox=ln;var un=(e,t,n)=>{if(e==t)setTimeout(ln);else if(y)postMessage({targetThread:e,cmd:`checkMailbox`});else{var r=Y.pthreads[e];if(!r)return;r.postMessage({cmd:`checkMailbox`})}},dn=[],fn=(e,t,n,r,i)=>{dn.length=r;for(var a=i>>3,o=0;o<r;o++)dn[o]=u()[a+o];var s=t?I[t]:Yn[e];Y.currentProxiedOperationCallerThread=n;var c=s(...dn);return Y.currentProxiedOperationCallerThread=0,c},pn=e=>{},mn=()=>{throw 1/0},hn=[],gn=(e,t,n,r)=>(e=hn[e],t=xt.toValue(t),e(null,t,n,r)),_n={},vn=e=>{var t=_n[e];return t===void 0?lt(e):t},yn=()=>{if(typeof globalThis==`object`)return globalThis;function e(e){e.$$$embind_global$$$=e;var t=typeof $$$embind_global$$$==`object`&&e.$$$embind_global$$$==e;return t||delete e.$$$embind_global$$$,t}if(typeof $$$embind_global$$$==`object`||(typeof global==`object`&&e(global)?$$$embind_global$$$=global:typeof self==`object`&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$==`object`))return $$$embind_global$$$;throw Error(`unable to get global object.`)},bn=e=>e===0?xt.toHandle(yn()):(e=vn(e),xt.toHandle(yn()[e])),xn=e=>{var t=hn.length;return hn.push(e),t},Sn=(e,t)=>{var n=et[e];return n===void 0&&dt(`${t} has unknown type ${zt(e)}`),n},Cn=(e,t)=>{for(var n=Array(e),r=0;r<e;++r)n[r]=Sn(s()[t+r*4>>2],`parameter `+r);return n},wn=Reflect.construct,Tn=(e,t,n)=>{var r=[],i=e.toWireType(r,n);return r.length&&(s()[t>>2]=xt.toHandle(r)),i},En=(e,t,n)=>{var r=Cn(e,t),i=r.shift();e--;var a=Array(e);return xn(Et(`methodCaller<(${r.map(e=>e.name).join(`, `)}) => ${i.name}>`,(t,o,s,c)=>{for(var l=0,u=0;u<e;++u)a[u]=r[u].readValueFromPointer(c+l),l+=r[u].argPackAdvance;return Tn(i,s,n===1?wn(o,a):o.apply(t,a))}))},Dn=e=>{Qe(xt.toValue(e)),vt(e)},On=()=>{we(``)},kn=[],An=(e,t)=>{kn.length=0;for(var n;n=r()[e++];){var i=n!=105;i&=n!=112,t+=i&&t%8?4:0,kn.push(n==112?s()[t>>2]:n==105?o()[t>>2]:u()[t>>3]),t+=i?8:4}return kn},jn=(e,t,n)=>{var r=An(t,n);return I[e](...r)},Mn=(e,t,n)=>jn(e,t,n),Nn=e=>{Nn.shown||={},Nn.shown[e]||(Nn.shown[e]=1,w(e))},Pn=()=>{},Fn=()=>Date.now(),In=()=>{Pe+=1},Ln=()=>{throw In(),`unwind`},Rn=()=>performance.timeOrigin+performance.now(),zn=()=>navigator.hardwareConcurrency,Bn=()=>2147483648,Vn=e=>{var t=(e-T.buffer.byteLength+65535)/65536;try{return T.grow(t),D(),1}catch{}},Hn=e=>{var t=r().length;if(e>>>=0,e<=t)return!1;var n=Bn();if(e>n)return!1;for(var i=(e,t)=>e+(t-e%t)%t,a=1;a<=4;a*=2){var o=t*(1+.2/a);if(o=Math.min(o,e+100663296),Vn(Math.min(n,i(Math.max(e,o),65536))))return!0}return!1};function Un(e){return y?G(6,0,1,e):52}function Wn(e,t,n,r){return y?G(7,0,1,e,t,n,r):52}function Gn(e,t,n,r,i){return y?G(8,0,1,e,t,n,r,i):(W(t,n),70)}var Kn=[null,[],[]],qn=(e,t)=>{var n=Kn[e];t===0||t===10?((e===1?C:w)(Be(n,0)),n.length=0):n.push(t)};function Jn(e,t,n,i){if(y)return G(9,0,1,e,t,n,i);for(var a=0,o=0;o<n;o++){var c=s()[t>>2],l=s()[t+4>>2];t+=8;for(var u=0;u<l;u++)qn(e,r()[c+u]);a+=l}return s()[i>>2]=a,0}Y.init(),nt=d.InternalError=class extends Error{constructor(e){super(e),this.name=`InternalError`}},st(),ut=d.BindingError=class extends Error{constructor(e){super(e),this.name=`BindingError`}},bt(),Rt=d.UnboundTypeError=Lt(Error,`UnboundTypeError`);var Yn=[K,Ie,Ge,Je,Ye,Xe,Un,Wn,Gn,Jn],Xn={G:He,N:Ue,q:We,K:Ke,t:Je,R:Ye,S:Xe,y:at,A:ot,$:ht,_:Ct,u:Tt,x:Ht,h:Wt,d:Gt,v:Yt,l:tn,C:nn,m:rn,w:an,I:un,L:fn,M:cn,U:pn,F:mn,Z:gn,O:vt,W:bn,Y:En,X:Dn,e:On,ba:Mn,r:Pn,V:Fn,T:Ln,k:Rn,aa:zn,H:Hn,J:q,s:Un,Q:Wn,z:Gn,P:Jn,g:Pr,i:Or,j:Dr,B:Ir,D:jr,E:kr,f:Tr,c:Er,n:Fr,b:Ar,o:Nr,p:Mr,a:T||d.wasmMemory},$=F(),Zn=()=>(Zn=$.ca)(),Qn=e=>(Qn=$.da)(e),$n=d.__embind_initialize_bindings=()=>($n=d.__embind_initialize_bindings=$.ea)(),er=d._pthread_self=()=>(er=d._pthread_self=$.fa)(),tr=e=>(tr=$.ga)(e),nr=e=>(nr=$.ha)(e),rr=d.__emscripten_tls_init=()=>(rr=d.__emscripten_tls_init=$.ia)(),ir=d.__emscripten_thread_init=(e,t,n,r,i,a)=>(ir=d.__emscripten_thread_init=$.ja)(e,t,n,r,i,a),ar=d.__emscripten_thread_crashed=()=>(ar=d.__emscripten_thread_crashed=$.la)(),or=()=>(or=$.emscripten_main_thread_process_queued_calls)(),sr=()=>(sr=$.emscripten_main_runtime_thread_id)(),cr=(e,t,n,r,i)=>(cr=$.ma)(e,t,n,r,i),lr=e=>(lr=$.na)(e),ur=d.__emscripten_thread_exit=e=>(ur=d.__emscripten_thread_exit=$.oa)(e),dr=()=>(dr=$.pa)(),fr=(e,t)=>(fr=$.qa)(e,t),pr=(e,t)=>(pr=$.ra)(e,t),mr=e=>(mr=$.sa)(e),hr=e=>(hr=$.ta)(e),gr=()=>(gr=$.ua)(),_r=e=>(_r=$.__cxa_increment_exception_refcount)(e),vr=e=>(vr=$.__cxa_is_pointer_type)(e),yr=d.dynCall_jiiiiiiiii=(e,t,n,r,i,a,o,s,c,l)=>(yr=d.dynCall_jiiiiiiiii=$.va)(e,t,n,r,i,a,o,s,c,l),br=d.dynCall_jiji=(e,t,n,r,i)=>(br=d.dynCall_jiji=$.wa)(e,t,n,r,i),xr=d.dynCall_iiijii=(e,t,n,r,i,a,o)=>(xr=d.dynCall_iiijii=$.xa)(e,t,n,r,i,a,o),Sr=d.dynCall_jiiiiiiii=(e,t,n,r,i,a,o,s,c)=>(Sr=d.dynCall_jiiiiiiii=$.ya)(e,t,n,r,i,a,o,s,c),Cr=d.dynCall_jiiiiii=(e,t,n,r,i,a,o)=>(Cr=d.dynCall_jiiiiii=$.za)(e,t,n,r,i,a,o),wr=d.dynCall_jiiiii=(e,t,n,r,i,a)=>(wr=d.dynCall_jiiiii=$.Aa)(e,t,n,r,i,a);function Tr(e,t){var n=B();try{X(e)(t)}catch(e){if(V(n),e!==e+0)throw e;fr(1,0)}}function Er(e,t,n){var r=B();try{X(e)(t,n)}catch(e){if(V(r),e!==e+0)throw e;fr(1,0)}}function Dr(e,t,n,r,i){var a=B();try{return X(e)(t,n,r,i)}catch(e){if(V(a),e!==e+0)throw e;fr(1,0)}}function Or(e,t,n){var r=B();try{return X(e)(t,n)}catch(e){if(V(r),e!==e+0)throw e;fr(1,0)}}function kr(e,t,n,r,i,a,o,s,c,l,u,d){var f=B();try{return X(e)(t,n,r,i,a,o,s,c,l,u,d)}catch(e){if(V(f),e!==e+0)throw e;fr(1,0)}}function Ar(e,t,n,r,i){var a=B();try{X(e)(t,n,r,i)}catch(e){if(V(a),e!==e+0)throw e;fr(1,0)}}function jr(e,t,n,r,i,a,o,s,c,l,u){var d=B();try{return X(e)(t,n,r,i,a,o,s,c,l,u)}catch(e){if(V(d),e!==e+0)throw e;fr(1,0)}}function Mr(e,t,n,r,i,a,o){var s=B();try{X(e)(t,n,r,i,a,o)}catch(e){if(V(s),e!==e+0)throw e;fr(1,0)}}function Nr(e,t,n,r,i,a){var o=B();try{X(e)(t,n,r,i,a)}catch(e){if(V(o),e!==e+0)throw e;fr(1,0)}}function Pr(e,t){var n=B();try{return X(e)(t)}catch(e){if(V(n),e!==e+0)throw e;fr(1,0)}}function Fr(e,t,n,r){var i=B();try{X(e)(t,n,r)}catch(e){if(V(i),e!==e+0)throw e;fr(1,0)}}function Ir(e,t,n,r,i,a,o,s,c,l){var u=B();try{return X(e)(t,n,r,i,a,o,s,c,l)}catch(e){if(V(u),e!==e+0)throw e;fr(1,0)}}d.wasmMemory=T,d.keepRuntimeAlive=z,d.ExitStatus=L,d.PThread=Y;var Lr;j=function e(){Lr||Rr(),Lr||(j=e)};function Rr(){if(A>0)return;if(y){f(d),ye(),startWorker(d);return}if(ve(),A>0)return;function e(){Lr||(Lr=!0,d.calledRun=!0,!ae&&(ye(),f(d),d.onRuntimeInitialized&&d.onRuntimeInitialized(),O()))}d.setStatus?(d.setStatus(`Running...`),setTimeout(function(){setTimeout(function(){d.setStatus(``)},1),e()},1)):e()}if(d.preInit)for(typeof d.preInit==`function`&&(d.preInit=[d.preInit]);d.preInit.length>0;)d.preInit.pop()();return Rr(),m})})(),u=l})),f=n({default:()=>ee}),p,m,ee,te=t((()=>{p={url:self.location.href},m=(()=>{var e=self.location.href;return(function(t={}){var n=t,r,i,a=new Promise((e,t)=>{r=e,i=t});let o=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<`u`&&globalThis.caches&&globalThis.caches.default!==void 0,s=typeof process==`object`&&process.release&&process.release.name===`node`;(o||s)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(e,t,n){this.data=e,this.width=t,this.height=n}}),self.location.href===void 0&&(p.url=`https://localhost`),typeof self<`u`&&self.location===void 0&&(self.location={href:``}));var c=Object.assign({},n),l=typeof window==`object`,u=typeof importScripts==`function`;typeof process==`object`&&typeof process.versions==`object`&&process.versions.node;var d=``;function f(e){return n.locateFile?n.locateFile(e,d):d+e}var m;(l||u)&&(u?d=self.location.href:typeof document<`u`&&document.currentScript&&(d=document.currentScript.src),e&&(d=e),d=d.startsWith(`blob:`)?``:d.substr(0,d.replace(/[?#].*/,``).lastIndexOf(`/`)+1),u&&(m=e=>{var t=new XMLHttpRequest;return t.open(`GET`,e,!1),t.responseType=`arraybuffer`,t.send(null),new Uint8Array(t.response)}));var ee=n.print||console.log.bind(console),te=n.printErr||console.error.bind(console);Object.assign(n,c),c=null,n.arguments&&n.arguments,n.thisProgram&&n.thisProgram,n.quit&&n.quit;var h;n.wasmBinary&&(h=n.wasmBinary);var ne,g=!1,_,v,y,b,x,S,C,w;function re(){var e=ne.buffer;n.HEAP8=_=new Int8Array(e),n.HEAP16=y=new Int16Array(e),n.HEAPU8=v=new Uint8Array(e),n.HEAPU16=b=new Uint16Array(e),n.HEAP32=x=new Int32Array(e),n.HEAPU32=S=new Uint32Array(e),n.HEAPF32=C=new Float32Array(e),n.HEAPF64=w=new Float64Array(e)}var T=[],ie=[],ae=[];function oe(){if(n.preRun)for(typeof n.preRun==`function`&&(n.preRun=[n.preRun]);n.preRun.length;)le(n.preRun.shift());Se(T)}function se(){Se(ie)}function ce(){if(n.postRun)for(typeof n.postRun==`function`&&(n.postRun=[n.postRun]);n.postRun.length;)de(n.postRun.shift());Se(ae)}function le(e){T.unshift(e)}function ue(e){ie.unshift(e)}function de(e){ae.unshift(e)}var fe=0,E=null,pe=null;function D(e){fe++,n.monitorRunDependencies?.(fe)}function me(e){if(fe--,n.monitorRunDependencies?.(fe),fe==0&&(E!==null&&(clearInterval(E),E=null),pe)){var t=pe;pe=null,t()}}function he(e){n.onAbort?.(e),e=`Aborted(`+e+`)`,te(e),g=!0,e+=`. Build with -sASSERTIONS for more info.`;var t=new WebAssembly.RuntimeError(e);throw i(t),t}var ge=`data:application/octet-stream;base64,`,_e=e=>e.startsWith(ge),ve;n.locateFile?(ve=`avif_enc.wasm`,_e(ve)||(ve=f(ve))):ve=new URL(`/convert/assets/avif_enc-Co4TcJko.wasm`,``+self.location.href).href;function ye(e){if(e==ve&&h)return new Uint8Array(h);if(m)return m(e);throw`both async and sync fetching of the wasm failed`}function O(e){return!h&&(l||u)&&typeof fetch==`function`?fetch(e,{credentials:`same-origin`}).then(t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()}).catch(()=>ye(e)):Promise.resolve().then(()=>ye(e))}function be(e,t,n){return O(e).then(e=>WebAssembly.instantiate(e,t)).then(n,e=>{te(`failed to asynchronously prepare wasm: ${e}`),he(e)})}function xe(e,t,n,r){return!e&&typeof WebAssembly.instantiateStreaming==`function`&&!_e(t)&&typeof fetch==`function`?fetch(t,{credentials:`same-origin`}).then(e=>WebAssembly.instantiateStreaming(e,n).then(r,function(e){return te(`wasm streaming compile failed: ${e}`),te(`falling back to ArrayBuffer instantiation`),be(t,n,r)})):be(t,n,r)}function k(){var e={a:Qt};function t(e,t){return Q=e.exports,ne=Q.P,re(),Ye=Q.U,ue(Q.Q),me(`wasm-instantiate`),Q}D(`wasm-instantiate`);function r(e){t(e.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(e){te(`Module.instantiateWasm callback failed with error: ${e}`),i(e)}return xe(h,ve,e,r).catch(i),{}}var A={617256:()=>{throw Error(`Invalid bit depth. Supported values are 8, 10, or 12.`)}},Se=e=>{for(;e.length>0;)e.shift()(n)};n.noExitRuntime;var j=e=>an(e),M=()=>sn(),Ce=(e,t,n)=>{for(var r=t+n,i=``;!(t>=r);){var a=e[t++];if(!a)return i;if(!(a&128)){i+=String.fromCharCode(a);continue}var o=e[t++]&63;if((a&224)==192){i+=String.fromCharCode((a&31)<<6|o);continue}var s=e[t++]&63;if(a=(a&240)==224?(a&15)<<12|o<<6|s:(a&7)<<18|o<<12|s<<6|e[t++]&63,a<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|c&1023)}}return i},we=(e,t)=>e?Ce(v,e,t):``,Te={varargs:void 0,getStr(e){return we(e)}};function Ee(e,t,n){return Te.varargs=n,0}function De(e,t,n){return Te.varargs=n,0}function Oe(e,t,n,r){Te.varargs=r}var N={},ke=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function P(e){return this.fromWireType(S[e>>2])}var F={},I={},L={},Ae,R=e=>{throw new Ae(e)},je=(e,t,n)=>{e.forEach(function(e){L[e]=t});function r(t){var r=n(t);r.length!==e.length&&R(`Mismatched type converter count`);for(var i=0;i<e.length;++i)W(e[i],r[i])}var i=Array(t.length),a=[],o=0;t.forEach((e,t)=>{I.hasOwnProperty(e)?i[t]=I[e]:(a.push(e),F.hasOwnProperty(e)||(F[e]=[]),F[e].push(()=>{i[t]=I[e],++o,o===a.length&&r(i)}))}),a.length===0&&r(i)},Me=e=>{var t=N[e];delete N[e];var n=t.rawConstructor,r=t.rawDestructor,i=t.fields,a=i.map(e=>e.getterReturnType).concat(i.map(e=>e.setterArgumentType));je([e],a,e=>{var a={};return i.forEach((t,n)=>{var r=t.fieldName,o=e[n],s=t.getter,c=t.getterContext,l=e[n+i.length],u=t.setter,d=t.setterContext;a[r]={read:e=>o.fromWireType(s(c,e)),write:(e,t)=>{var n=[];u(d,e,l.toWireType(n,t)),ke(n)}}}),[{name:t.name,fromWireType:e=>{var t={};for(var n in a)t[n]=a[n].read(e);return r(e),t},toWireType:(e,t)=>{for(var i in a)if(!(i in t))throw TypeError(`Missing field: "${i}"`);var o=n();for(i in a)a[i].write(o,t[i]);return e!==null&&e.push(r,o),o},argPackAdvance:G,readValueFromPointer:P,destructorFunction:r}]})},Ne=(e,t,n,r,i)=>{},Pe=()=>{for(var e=Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);z=e},z,B=e=>{for(var t=``,n=e;v[n];)t+=z[v[n++]];return t},V,H=e=>{throw new V(e)};function U(e,t,n={}){var r=t.name;if(e||H(`type "${r}" must have a positive integer typeid pointer`),I.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;H(`Cannot register type '${r}' twice`)}if(I[e]=t,delete L[e],F.hasOwnProperty(e)){var i=F[e];delete F[e],i.forEach(e=>e())}}function W(e,t,n={}){if(!(`argPackAdvance`in t))throw TypeError(`registerType registeredInstance requires argPackAdvance`);return U(e,t,n)}var G=8,K=(e,t,n,r)=>{t=B(t),W(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:r},argPackAdvance:G,readValueFromPointer:function(e){return this.fromWireType(v[e])},destructorFunction:null})},q=[],J=[],Y=e=>{e>9&&--J[e+1]===0&&(J[e]=void 0,q.push(e))},Fe=()=>J.length/2-5-q.length,Ie=()=>{J.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=Fe},Le={toValue:e=>(e||H(`Cannot use deleted val. handle = `+e),J[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let t=q.pop()||J.length;return J[t]=e,J[t+1]=1,t}}}},X={name:`emscripten::val`,fromWireType:e=>{var t=Le.toValue(e);return Y(e),t},toWireType:(e,t)=>Le.toHandle(t),argPackAdvance:G,readValueFromPointer:P,destructorFunction:null},Re=e=>W(e,X),ze=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(C[e>>2])};case 8:return function(e){return this.fromWireType(w[e>>3])};default:throw TypeError(`invalid float width (${t}): ${e}`)}},Be=(e,t,n)=>{t=B(t),W(e,{name:t,fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:G,readValueFromPointer:ze(t,n),destructorFunction:null})},Ve=(e,t)=>Object.defineProperty(t,`name`,{value:e});function He(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function Ue(e,t,n,r,i,a){var o=t.length;o<2&&H(`argTypes array size mismatch! Must at least get return value and 'this' types!`);var s=t[1]!==null&&n!==null,c=He(t),l=t[0].name!==`void`,u=o-2,d=Array(u),f=[],p=[];return Ve(e,function(...n){n.length!==u&&H(`function ${e} called with ${n.length} arguments, expected ${u}`),p.length=0;var a;f.length=s?2:1,f[0]=i,s&&(a=t[1].toWireType(p,this),f[1]=a);for(var o=0;o<u;++o)d[o]=t[o+2].toWireType(p,n[o]),f.push(d[o]);var m=r(...f);function ee(e){if(c)ke(p);else for(var n=s?1:2;n<t.length;n++){var r=n===1?a:d[n-2];t[n].destructorFunction!==null&&t[n].destructorFunction(r)}if(l)return t[0].fromWireType(e)}return ee(m)})}var We=(e,t,n)=>{if(e[t].overloadTable===void 0){var r=e[t];e[t]=function(...r){return e[t].overloadTable.hasOwnProperty(r.length)||H(`Function '${n}' called with an invalid number of arguments (${r.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[r.length].apply(this,r)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}},Ge=(e,t,r)=>{n.hasOwnProperty(e)?((r===void 0||n[e].overloadTable!==void 0&&n[e].overloadTable[r]!==void 0)&&H(`Cannot register public name '${e}' twice`),We(n,e,e),n.hasOwnProperty(r)&&H(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),n[e].overloadTable[r]=t):(n[e]=t,r!==void 0&&(n[e].numArguments=r))},Ke=(e,t)=>{for(var n=[],r=0;r<e;r++)n.push(S[t+r*4>>2]);return n},qe=(e,t,r)=>{n.hasOwnProperty(e)||R(`Replacing nonexistent public symbol`),n[e].overloadTable!==void 0&&r!==void 0?n[e].overloadTable[r]=t:(n[e]=t,n[e].argCount=r)},Je=(e,t,r)=>{e=e.replace(/p/g,`i`);var i=n[`dynCall_`+e];return i(t,...r)},Ye,Xe=e=>Ye.get(e),Ze=(e,t,n=[])=>e.includes(`j`)?Je(e,t,n):Xe(t)(...n),Qe=(e,t)=>(...n)=>Ze(e,t,n),Z=(e,t)=>{e=B(e);function n(){return e.includes(`j`)?Qe(e,t):Xe(t)}var r=n();return typeof r!=`function`&&H(`unknown function pointer with signature ${e}: ${t}`),r},$e=(e,t)=>{var n=Ve(t,function(e){this.name=t,this.message=e;var n=Error(e).stack;n!==void 0&&(this.stack=this.toString()+`
`+n.replace(/^Error(:[^\n]*)?\n/,``))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n},et,tt=e=>{var t=en(e),n=B(t);return nn(t),n},nt=(e,t)=>{var n=[],r={};function i(e){if(!r[e]&&!I[e]){if(L[e]){L[e].forEach(i);return}n.push(e),r[e]=!0}}throw t.forEach(i),new et(`${e}: `+n.map(tt).join([`, `]))},rt=e=>{e=e.trim();let t=e.indexOf(`(`);return t===-1?e:e.substr(0,t)},it=(e,t,n,r,i,a,o)=>{var s=Ke(t,n);e=B(e),e=rt(e),i=Z(r,i),Ge(e,function(){nt(`Cannot call ${e} due to unbound types`,s)},t-1),je([],s,n=>{var r=[n[0],null].concat(n.slice(1));return qe(e,Ue(e,r,null,i,a,o),t-1),[]})},at=(e,t,n)=>{switch(t){case 1:return n?e=>_[e]:e=>v[e];case 2:return n?e=>y[e>>1]:e=>b[e>>1];case 4:return n?e=>x[e>>2]:e=>S[e>>2];default:throw TypeError(`invalid integer width (${t}): ${e}`)}},ot=(e,t,n,r,i)=>{t=B(t),i===-1&&(i=4294967295);var a=e=>e;if(r===0){var o=32-8*n;a=e=>e<<o>>>o}var s=t.includes(`unsigned`);W(e,{name:t,fromWireType:a,toWireType:s?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:G,readValueFromPointer:at(t,n,r!==0),destructorFunction:null})},st=(e,t,n)=>{var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){var t=S[e>>2],n=S[e+4>>2];return new r(_.buffer,n,t)}n=B(n),W(e,{name:n,fromWireType:i,argPackAdvance:G,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},ct=(e,t,n,r)=>{if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){var c=e.charCodeAt(++o);s=65536+((s&1023)<<10)|c&1023}if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|s&63}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|s&63}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|s&63}}return t[n]=0,n-i},lt=(e,t,n)=>ct(e,v,t,n),ut=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t},dt=(e,t)=>{t=B(t);var n=t===`std::string`;W(e,{name:t,fromWireType(e){var t=S[e>>2],r=e+4,i;if(n)for(var a=r,o=0;o<=t;++o){var s=r+o;if(o==t||v[s]==0){var c=s-a,l=we(a,c);i===void 0?i=l:(i+=`\0`,i+=l),a=s+1}}else{for(var u=Array(t),o=0;o<t;++o)u[o]=String.fromCharCode(v[r+o]);i=u.join(``)}return nn(e),i},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r,i=typeof t==`string`;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||H(`Cannot pass non-string to std::string`),r=n&&i?ut(t):t.length;var a=tn(4+r+1),o=a+4;if(S[a>>2]=r,n&&i)lt(t,o,r+1);else if(i)for(var s=0;s<r;++s){var c=t.charCodeAt(s);c>255&&(nn(o),H(`String has UTF-16 code units that do not fit in 8 bits`)),v[o+s]=c}else for(var s=0;s<r;++s)v[o+s]=t[s];return e!==null&&e.push(nn,a),a},argPackAdvance:G,readValueFromPointer:P,destructorFunction(e){nn(e)}})},ft=(e,t)=>{for(var n=``,r=0;!(r>=t/2);++r){var i=y[e+r*2>>1];if(i==0)break;n+=String.fromCharCode(i)}return n},pt=(e,t,n)=>{if(n??=2147483647,n<2)return 0;n-=2;for(var r=t,i=n<e.length*2?n/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);y[t>>1]=o,t+=2}return y[t>>1]=0,t-r},mt=e=>e.length*2,ht=(e,t)=>{for(var n=0,r=``;!(n>=t/4);){var i=x[e+n*4>>2];if(i==0)break;if(++n,i>=65536){var a=i-65536;r+=String.fromCharCode(55296|a>>10,56320|a&1023)}else r+=String.fromCharCode(i)}return r},gt=(e,t,n)=>{if(n??=2147483647,n<4)return 0;for(var r=t,i=r+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343){var s=e.charCodeAt(++a);o=65536+((o&1023)<<10)|s&1023}if(x[t>>2]=o,t+=4,t+4>i)break}return x[t>>2]=0,t-r},_t=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t},vt=(e,t,n)=>{n=B(n);var r,i,a,o;t===2?(r=ft,i=pt,o=mt,a=e=>b[e>>1]):t===4&&(r=ht,i=gt,o=_t,a=e=>S[e>>2]),W(e,{name:n,fromWireType:e=>{for(var n=S[e>>2],i,o=e+4,s=0;s<=n;++s){var c=e+4+s*t;if(s==n||a(c)==0){var l=c-o,u=r(o,l);i===void 0?i=u:(i+=`\0`,i+=u),o=c+t}}return nn(e),i},toWireType:(e,r)=>{typeof r!=`string`&&H(`Cannot pass non-string to C++ string type ${n}`);var a=o(r),s=tn(4+a+t);return S[s>>2]=a/t,i(r,s+4,a+t),e!==null&&e.push(nn,s),s},argPackAdvance:G,readValueFromPointer:P,destructorFunction(e){nn(e)}})},yt=(e,t,n,r,i,a)=>{N[e]={name:B(t),rawConstructor:Z(n,r),rawDestructor:Z(i,a),fields:[]}},bt=(e,t,n,r,i,a,o,s,c,l)=>{N[e].fields.push({fieldName:B(t),getterReturnType:n,getter:Z(r,i),getterContext:a,setterArgumentType:o,setter:Z(s,c),setterContext:l})},xt=(e,t)=>{t=B(t),W(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>void 0,toWireType:(e,t)=>void 0})},St=()=>{throw 1/0},Ct=[],wt=(e,t,n,r)=>(e=Ct[e],t=Le.toValue(t),e(null,t,n,r)),Tt={},Et=e=>{var t=Tt[e];return t===void 0?B(e):t},Dt=()=>{if(typeof globalThis==`object`)return globalThis;function e(e){e.$$$embind_global$$$=e;var t=typeof $$$embind_global$$$==`object`&&e.$$$embind_global$$$==e;return t||delete e.$$$embind_global$$$,t}if(typeof $$$embind_global$$$==`object`||(typeof global==`object`&&e(global)?$$$embind_global$$$=global:typeof self==`object`&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$==`object`))return $$$embind_global$$$;throw Error(`unable to get global object.`)},Ot=e=>e===0?Le.toHandle(Dt()):(e=Et(e),Le.toHandle(Dt()[e])),kt=e=>{var t=Ct.length;return Ct.push(e),t},At=(e,t)=>{var n=I[e];return n===void 0&&H(`${t} has unknown type ${tt(e)}`),n},jt=(e,t)=>{for(var n=Array(e),r=0;r<e;++r)n[r]=At(S[t+r*4>>2],`parameter `+r);return n},Mt=Reflect.construct,Nt=(e,t,n)=>{var r=[],i=e.toWireType(r,n);return r.length&&(S[t>>2]=Le.toHandle(r)),i},Pt=(e,t,n)=>{var r=jt(e,t),i=r.shift();e--;var a=Array(e);return kt(Ve(`methodCaller<(${r.map(e=>e.name).join(`, `)}) => ${i.name}>`,(t,o,s,c)=>{for(var l=0,u=0;u<e;++u)a[u]=r[u].readValueFromPointer(c+l),l+=r[u].argPackAdvance;return Nt(i,s,n===1?Mt(o,a):o.apply(t,a))}))},Ft=e=>{ke(Le.toValue(e)),Y(e)},It=()=>{he(``)},Lt=[],Rt=(e,t)=>{Lt.length=0;for(var n;n=v[e++];){var r=n!=105;r&=n!=112,t+=r&&t%8?4:0,Lt.push(n==112?S[t>>2]:n==105?x[t>>2]:w[t>>3]),t+=r?8:4}return Lt},zt=(e,t,n)=>{var r=Rt(t,n);return A[e](...r)},Bt=(e,t,n)=>zt(e,t,n),Vt=()=>Date.now(),Ht=()=>2147483648,Ut=e=>{var t=(e-ne.buffer.byteLength+65535)/65536;try{return ne.grow(t),re(),1}catch{}},Wt=e=>{var t=v.length;e>>>=0;var n=Ht();if(e>n)return!1;for(var r=(e,t)=>e+(t-e%t)%t,i=1;i<=4;i*=2){var a=t*(1+.2/i);if(a=Math.min(a,e+100663296),Ut(Math.min(n,r(Math.max(e,a),65536))))return!0}return!1},Gt=e=>52,Kt=(e,t,n,r)=>52,qt=(e,t)=>t+2097152>>>0<4194305-!!e?(e>>>0)+t*4294967296:NaN;function Jt(e,t,n,r,i){return qt(t,n),70}var Yt=[null,[],[]],Xt=(e,t)=>{var n=Yt[e];t===0||t===10?((e===1?ee:te)(Ce(n,0)),n.length=0):n.push(t)},Zt=(e,t,n,r)=>{for(var i=0,a=0;a<n;a++){var o=S[t>>2],s=S[t+4>>2];t+=8;for(var c=0;c<s;c++)Xt(e,v[o+c]);i+=s}return S[r>>2]=i,0};Ae=n.InternalError=class extends Error{constructor(e){super(e),this.name=`InternalError`}},Pe(),V=n.BindingError=class extends Error{constructor(e){super(e),this.name=`BindingError`}},Ie(),et=n.UnboundTypeError=$e(Error,`UnboundTypeError`);var Qt={p:Ee,F:De,G:Oe,u:Me,w:Ne,r:K,M:Re,q:Be,t:it,f:ot,b:st,j:dt,i:vt,A:yt,k:bt,s:xt,B:St,L:wt,H:Y,N:Ot,K:Pt,J:Ft,c:It,O:Bt,I:Vt,C:Wt,o:Gt,E:Kt,v:Jt,D:Zt,e:yn,g:vn,x:En,y:Sn,z:bn,h:gn,d:_n,l:Tn,a:xn,m:wn,n:Cn},Q=k(),$t=()=>($t=Q.Q)(),en=e=>(en=Q.R)(e),tn=e=>(tn=Q.S)(e),nn=e=>(nn=Q.T)(e),rn=(e,t)=>(rn=Q.V)(e,t),an=e=>(an=Q.W)(e),on=e=>(on=Q._emscripten_stack_alloc)(e),sn=()=>(sn=Q.X)(),cn=e=>(cn=Q.__cxa_increment_exception_refcount)(e),ln=e=>(ln=Q.__cxa_is_pointer_type)(e),un=n.dynCall_jiiiiiiiii=(e,t,r,i,a,o,s,c,l,u)=>(un=n.dynCall_jiiiiiiiii=Q.Y)(e,t,r,i,a,o,s,c,l,u),dn=n.dynCall_jiji=(e,t,r,i,a)=>(dn=n.dynCall_jiji=Q.Z)(e,t,r,i,a),fn=n.dynCall_iiijii=(e,t,r,i,a,o,s)=>(fn=n.dynCall_iiijii=Q._)(e,t,r,i,a,o,s),pn=n.dynCall_jiiiiiiii=(e,t,r,i,a,o,s,c,l)=>(pn=n.dynCall_jiiiiiiii=Q.$)(e,t,r,i,a,o,s,c,l),mn=n.dynCall_jiiiiii=(e,t,r,i,a,o,s)=>(mn=n.dynCall_jiiiiii=Q.aa)(e,t,r,i,a,o,s),hn=n.dynCall_jiiiii=(e,t,r,i,a,o)=>(hn=n.dynCall_jiiiii=Q.ba)(e,t,r,i,a,o);function gn(e,t){var n=M();try{Xe(e)(t)}catch(e){if(j(n),e!==e+0)throw e;rn(1,0)}}function _n(e,t,n){var r=M();try{Xe(e)(t,n)}catch(e){if(j(r),e!==e+0)throw e;rn(1,0)}}function vn(e,t,n,r,i){var a=M();try{return Xe(e)(t,n,r,i)}catch(e){if(j(a),e!==e+0)throw e;rn(1,0)}}function yn(e,t,n){var r=M();try{return Xe(e)(t,n)}catch(e){if(j(r),e!==e+0)throw e;rn(1,0)}}function bn(e,t,n,r,i,a,o,s,c,l,u,d){var f=M();try{return Xe(e)(t,n,r,i,a,o,s,c,l,u,d)}catch(e){if(j(f),e!==e+0)throw e;rn(1,0)}}function xn(e,t,n,r,i){var a=M();try{Xe(e)(t,n,r,i)}catch(e){if(j(a),e!==e+0)throw e;rn(1,0)}}function Sn(e,t,n,r,i,a,o,s,c,l,u){var d=M();try{return Xe(e)(t,n,r,i,a,o,s,c,l,u)}catch(e){if(j(d),e!==e+0)throw e;rn(1,0)}}function Cn(e,t,n,r,i,a,o){var s=M();try{Xe(e)(t,n,r,i,a,o)}catch(e){if(j(s),e!==e+0)throw e;rn(1,0)}}function wn(e,t,n,r,i,a){var o=M();try{Xe(e)(t,n,r,i,a)}catch(e){if(j(o),e!==e+0)throw e;rn(1,0)}}function Tn(e,t,n,r){var i=M();try{Xe(e)(t,n,r)}catch(e){if(j(i),e!==e+0)throw e;rn(1,0)}}function En(e,t,n,r,i,a,o,s,c,l){var u=M();try{return Xe(e)(t,n,r,i,a,o,s,c,l)}catch(e){if(j(u),e!==e+0)throw e;rn(1,0)}}var Dn;pe=function e(){Dn||On(),Dn||(pe=e)};function On(){if(fe>0||(oe(),fe>0))return;function e(){Dn||(Dn=!0,n.calledRun=!0,!g&&(se(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),ce()))}n.setStatus?(n.setStatus(`Running...`),setTimeout(function(){setTimeout(function(){n.setStatus(``)},1),e()},1)):e()}if(n.preInit)for(typeof n.preInit==`function`&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return On(),a})})(),ee=m}));let h,ne=()=>typeof process<`u`&&process.release&&process.release.name===`node`,g=()=>globalThis.caches?.default!==void 0;async function _(e,t){let n=e,r=t;return arguments.length===1&&!(e instanceof WebAssembly.Module)&&(n=void 0,r=e),!ne()&&!g()&&await o()?(h=i((await Promise.resolve().then(()=>(d(),s))).default,n,r),h):(h=i((await Promise.resolve().then(()=>(te(),f))).default,n,r),h)}async function v(e,t={}){h||=_();let n={...r,...t};if(n.bitDepth!==8&&n.bitDepth!==10&&n.bitDepth!==12)throw Error(`Invalid bit depth. Supported values are 8, 10, or 12.`);if(!(e.data instanceof Uint16Array)&&n.bitDepth!==8)throw Error(`Invalid image data for bit depth. Must use Uint16Array for bit depths greater than 8.`);n.lossless&&(t.quality!==void 0&&t.quality!==100&&console.warn(`AVIF lossless: Quality setting is ignored when lossless is enabled (quality must be 100).`),t.qualityAlpha!==void 0&&t.qualityAlpha!==100&&t.qualityAlpha!==-1&&console.warn(`AVIF lossless: QualityAlpha setting is ignored when lossless is enabled (qualityAlpha must be 100 or -1).`),t.subsample!==void 0&&t.subsample!==3&&console.warn(`AVIF lossless: Subsample setting is ignored when lossless is enabled (subsample must be 3 for YUV444).`),n.quality=100,n.qualityAlpha=-1,n.subsample=3);let i=(await h).encode(new Uint8Array(e.data.buffer),e.width,e.height,n);if(!i)throw Error(`Encoding error.`);return i.buffer}let y={quality:75,target_size:0,target_PSNR:0,method:4,sns_strength:50,filter_strength:60,filter_sharpness:0,filter_type:1,partitions:0,segments:4,pass:1,show_compressed:0,preprocessing:0,autofilter:0,partition_limit:0,alpha_compression:1,alpha_filtering:1,alpha_quality:100,lossless:0,exact:0,image_hint:0,emulate_jpeg_size:0,thread_level:0,low_memory:0,near_lossless:100,use_delta_palette:0,use_sharp_yuv:0};function b(e,t,n={}){let r;return t&&(r=(e,n)=>{let r=new WebAssembly.Instance(t,e);return n(r),r.exports}),e({noInitialRun:!0,instantiateWasm:r,...n})}var x=n({default:()=>w}),S,C,w,re=t((()=>{S={url:self.location.href},C=(()=>{var e=self.location.href;return(function(t={}){var t=t===void 0?{}:t,n,r;t.ready=new Promise(function(e,t){n=e,r=t}),globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<`u`&&caches.default!==void 0&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(e,t,n){this.data=e,this.width=t,this.height=n}}),self.location.href===void 0&&(S.url=`https://localhost`),self.location===void 0&&(self.location={href:``}));var i=Object.assign({},t),a=typeof window==`object`,o=typeof importScripts==`function`;typeof process==`object`&&typeof process.versions==`object`&&process.versions.node;var s=``;function c(e){return t.locateFile?t.locateFile(e,s):s+e}var l;(a||o)&&(o?s=self.location.href:typeof document<`u`&&document.currentScript&&(s=document.currentScript.src),e&&(s=e),s=s.indexOf(`blob:`)===0?``:s.substr(0,s.replace(/[?#].*/,``).lastIndexOf(`/`)+1),o&&(l=e=>{var t=new XMLHttpRequest;return t.open(`GET`,e,!1),t.responseType=`arraybuffer`,t.send(null),new Uint8Array(t.response)})),t.print||console.log.bind(console);var u=t.printErr||console.warn.bind(console);Object.assign(t,i),i=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var d;t.wasmBinary&&(d=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!=`object`&&ge(`no native wasm support detected`);var f,p=!1;function m(e,t,n){for(var r=t+n,i=``;!(t>=r);){var a=e[t++];if(!a)return i;if(!(a&128)){i+=String.fromCharCode(a);continue}var o=e[t++]&63;if((a&224)==192){i+=String.fromCharCode((a&31)<<6|o);continue}var s=e[t++]&63;if(a=(a&240)==224?(a&15)<<12|o<<6|s:(a&7)<<18|o<<12|s<<6|e[t++]&63,a<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|c&1023)}}return i}function ee(e,t){return e?m(_,e,t):``}function te(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){var c=e.charCodeAt(++o);s=65536+((s&1023)<<10)|c&1023}if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|s&63}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|s&63}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|s&63}}return t[n]=0,n-i}function h(e,t,n){return te(e,_,t,n)}function ne(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}var g,_,v,y,b,x,C,w;function re(){var e=f.buffer;t.HEAP8=g=new Int8Array(e),t.HEAP16=v=new Int16Array(e),t.HEAP32=b=new Int32Array(e),t.HEAPU8=_=new Uint8Array(e),t.HEAPU16=y=new Uint16Array(e),t.HEAPU32=x=new Uint32Array(e),t.HEAPF32=C=new Float32Array(e),t.HEAPF64=w=new Float64Array(e)}var T,ie=[],ae=[],oe=[];function se(){if(t.preRun)for(typeof t.preRun==`function`&&(t.preRun=[t.preRun]);t.preRun.length;)ue(t.preRun.shift());Se(ie)}function ce(){Se(ae)}function le(){if(t.postRun)for(typeof t.postRun==`function`&&(t.postRun=[t.postRun]);t.postRun.length;)fe(t.postRun.shift());Se(oe)}function ue(e){ie.unshift(e)}function de(e){ae.unshift(e)}function fe(e){oe.unshift(e)}var E=0,pe=null,D=null;function me(e){E++,t.monitorRunDependencies&&t.monitorRunDependencies(E)}function he(e){if(E--,t.monitorRunDependencies&&t.monitorRunDependencies(E),E==0&&(pe!==null&&(clearInterval(pe),pe=null),D)){var n=D;D=null,n()}}function ge(e){t.onAbort&&t.onAbort(e),e=`Aborted(`+e+`)`,u(e),p=!0,e+=`. Build with -sASSERTIONS for more info.`;var n=new WebAssembly.RuntimeError(e);throw r(n),n}var _e=`data:application/octet-stream;base64,`;function ve(e){return e.startsWith(_e)}var ye;t.locateFile?(ye=`webp_enc_simd.wasm`,ve(ye)||(ye=c(ye))):ye=new URL(`/convert/assets/webp_enc_simd-CFvKQ_80.wasm`,``+self.location.href).href;function O(e){try{if(e==ye&&d)return new Uint8Array(d);if(l)return l(e);throw`both async and sync fetching of the wasm failed`}catch(e){ge(e)}}function be(e){return!d&&(a||o)&&typeof fetch==`function`?fetch(e,{credentials:`same-origin`}).then(function(t){if(!t.ok)throw`failed to load wasm binary file at '`+e+`'`;return t.arrayBuffer()}).catch(function(){return O(e)}):Promise.resolve().then(function(){return O(e)})}function xe(e,t,n){return be(e).then(function(e){return WebAssembly.instantiate(e,t)}).then(function(e){return e}).then(n,function(e){u(`failed to asynchronously prepare wasm: `+e),ge(e)})}function k(e,t,n,r){return!e&&typeof WebAssembly.instantiateStreaming==`function`&&!ve(t)&&typeof fetch==`function`?fetch(t,{credentials:`same-origin`}).then(function(e){return WebAssembly.instantiateStreaming(e,n).then(r,function(e){return u(`wasm streaming compile failed: `+e),u(`falling back to ArrayBuffer instantiation`),xe(t,n,r)})}):xe(t,n,r)}function A(){var e={a:jt};function n(e,n){var r=e.exports;return t.asm=r,f=t.asm.x,re(),T=t.asm.D,de(t.asm.y),he(`wasm-instantiate`),r}me(`wasm-instantiate`);function i(e){n(e.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(e,n)}catch(e){u(`Module.instantiateWasm callback failed with error: `+e),r(e)}return k(d,ye,e,i).catch(r),{}}function Se(e){for(;e.length>0;)e.shift()(t)}function j(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){x[this.ptr+4>>2]=e},this.get_type=function(){return x[this.ptr+4>>2]},this.set_destructor=function(e){x[this.ptr+8>>2]=e},this.get_destructor=function(){return x[this.ptr+8>>2]},this.set_refcount=function(e){b[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,g[this.ptr+12>>0]=e},this.get_caught=function(){return g[this.ptr+12>>0]!=0},this.set_rethrown=function(e){e=e?1:0,g[this.ptr+13>>0]=e},this.get_rethrown=function(){return g[this.ptr+13>>0]!=0},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=b[this.ptr>>2];b[this.ptr>>2]=e+1},this.release_ref=function(){var e=b[this.ptr>>2];return b[this.ptr>>2]=e-1,e===1},this.set_adjusted_ptr=function(e){x[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return x[this.ptr+16>>2]},this.get_exception_ptr=function(){if(Rt(this.get_type()))return x[this.excPtr>>2];var e=this.get_adjusted_ptr();return e===0?this.excPtr:e}}var M=0;function Ce(e,t,n){throw new j(e).init(t,n),M++,e}var we={};function Te(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Ee(e){return this.fromWireType(b[e>>2])}var De={},Oe={},N={},ke=48,P=57;function F(e){if(e===void 0)return`_unknown`;e=e.replace(/[^a-zA-Z0-9_]/g,`$`);var t=e.charCodeAt(0);return t>=ke&&t<=P?`_`+e:e}function I(e,t){return e=F(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function L(e,t){var n=I(t,function(e){this.name=t,this.message=e;var n=Error(e).stack;n!==void 0&&(this.stack=this.toString()+`
`+n.replace(/^Error(:[^\n]*)?\n/,``))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:this.name+`: `+this.message},n}var Ae=void 0;function R(e){throw new Ae(e)}function je(e,t,n){e.forEach(function(e){N[e]=t});function r(t){var r=n(t);r.length!==e.length&&R(`Mismatched type converter count`);for(var i=0;i<e.length;++i)W(e[i],r[i])}var i=Array(t.length),a=[],o=0;t.forEach((e,t)=>{Oe.hasOwnProperty(e)?i[t]=Oe[e]:(a.push(e),De.hasOwnProperty(e)||(De[e]=[]),De[e].push(()=>{i[t]=Oe[e],++o,o===a.length&&r(i)}))}),a.length===0&&r(i)}function Me(e){var t=we[e];delete we[e];var n=t.rawConstructor,r=t.rawDestructor,i=t.fields,a=i.map(e=>e.getterReturnType).concat(i.map(e=>e.setterArgumentType));je([e],a,e=>{var a={};return i.forEach((t,n)=>{var r=t.fieldName,o=e[n],s=t.getter,c=t.getterContext,l=e[n+i.length],u=t.setter,d=t.setterContext;a[r]={read:e=>o.fromWireType(s(c,e)),write:(e,t)=>{var n=[];u(d,e,l.toWireType(n,t)),Te(n)}}}),[{name:t.name,fromWireType:function(e){var t={};for(var n in a)t[n]=a[n].read(e);return r(e),t},toWireType:function(e,t){for(var i in a)if(!(i in t))throw TypeError(`Missing field:  "`+i+`"`);var o=n();for(i in a)a[i].write(o,t[i]);return e!==null&&e.push(r,o),o},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:r}]})}function Ne(e,t,n,r,i){}function Pe(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw TypeError(`Unknown type size: `+e)}}function z(){for(var e=Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);B=e}var B=void 0;function V(e){for(var t=``,n=e;_[n];)t+=B[_[n++]];return t}var H=void 0;function U(e){throw new H(e)}function W(e,t,n={}){if(!(`argPackAdvance`in t))throw TypeError(`registerType registeredInstance requires argPackAdvance`);var r=t.name;if(e||U(`type "`+r+`" must have a positive integer typeid pointer`),Oe.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;U(`Cannot register type '`+r+`' twice`)}if(Oe[e]=t,delete N[e],De.hasOwnProperty(e)){var i=De[e];delete De[e],i.forEach(e=>e())}}function G(e,t,n,r,i){var a=Pe(n);t=V(t),W(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){var r;if(n===1)r=g;else if(n===2)r=v;else if(n===4)r=b;else throw TypeError(`Unknown boolean type size: `+t);return this.fromWireType(r[e>>a])},destructorFunction:null})}var K=[],q=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function J(e){e>4&&--q[e].refcount===0&&(q[e]=void 0,K.push(e))}function Y(){for(var e=0,t=5;t<q.length;++t)q[t]!==void 0&&++e;return e}function Fe(){for(var e=5;e<q.length;++e)if(q[e]!==void 0)return q[e];return null}function Ie(){t.count_emval_handles=Y,t.get_first_emval=Fe}var Le={toValue:e=>(e||U(`Cannot use deleted val. handle = `+e),q[e].value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=K.length?K.pop():q.length;return q[t]={refcount:1,value:e},t}}};function X(e,t){t=V(t),W(e,{name:t,fromWireType:function(e){var t=Le.toValue(e);return J(e),t},toWireType:function(e,t){return Le.toHandle(t)},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:null})}function Re(e,t,n){if(e[t].overloadTable===void 0){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||U(`Function '`+n+`' called with an invalid number of arguments (`+arguments.length+`) - expects one of (`+e[t].overloadTable+`)!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function ze(e,n,r){t.hasOwnProperty(e)?((r===void 0||t[e].overloadTable!==void 0&&t[e].overloadTable[r]!==void 0)&&U(`Cannot register public name '`+e+`' twice`),Re(t,e,e),t.hasOwnProperty(r)&&U(`Cannot register multiple overloads of a function with the same number of arguments (`+r+`)!`),t[e].overloadTable[r]=n):(t[e]=n,r!==void 0&&(t[e].numArguments=r))}function Be(e,t,n){switch(t){case 0:return function(e){var t=n?g:_;return this.fromWireType(t[e])};case 1:return function(e){var t=n?v:y;return this.fromWireType(t[e>>1])};case 2:return function(e){var t=n?b:x;return this.fromWireType(t[e>>2])};default:throw TypeError(`Unknown integer type: `+e)}}function Ve(e,t,n,r){var i=Pe(n);t=V(t);function a(){}a.values={},W(e,{name:t,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:Be(t,i,r),destructorFunction:null}),ze(t,a)}function He(e){var t=Ft(e),n=V(t);return Pt(t),n}function Ue(e,t){var n=Oe[e];return n===void 0&&U(t+` has unknown type `+He(e)),n}function We(e,t,n){var r=Ue(e,`enum`);t=V(t);var i=r.constructor,a=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:I(r.name+`_`+t,function(){})}});i.values[n]=a,i[t]=a}function Ge(e,t){switch(t){case 2:return function(e){return this.fromWireType(C[e>>2])};case 3:return function(e){return this.fromWireType(w[e>>3])};default:throw TypeError(`Unknown float type: `+e)}}function Ke(e,t,n){var r=Pe(n);t=V(t),W(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:Ge(t,r),destructorFunction:null})}function qe(e,t,n,r,i,a){var o=t.length;o<2&&U(`argTypes array size mismatch! Must at least get return value and 'this' types!`);for(var s=t[1]!==null&&n!==null,c=!1,l=1;l<t.length;++l)if(t[l]!==null&&t[l].destructorFunction===void 0){c=!0;break}var u=t[0].name!==`void`,d=o-2,f=Array(d),p=[],m=[];return function(){arguments.length!==d&&U(`function `+e+` called with `+arguments.length+` arguments, expected `+d+` args!`),m.length=0;var n;p.length=s?2:1,p[0]=i,s&&(n=t[1].toWireType(m,this),p[1]=n);for(var a=0;a<d;++a)f[a]=t[a+2].toWireType(m,arguments[a]),p.push(f[a]);var o=r.apply(null,p);function l(e){if(c)Te(m);else for(var r=s?1:2;r<t.length;r++){var i=r===1?n:f[r-2];t[r].destructorFunction!==null&&t[r].destructorFunction(i)}if(u)return t[0].fromWireType(e)}return l(o)}}function Je(e,t){for(var n=[],r=0;r<e;r++)n.push(x[t+r*4>>2]);return n}function Ye(e,n,r){t.hasOwnProperty(e)||R(`Replacing nonexistant public symbol`),t[e].overloadTable!==void 0&&r!==void 0?t[e].overloadTable[r]=n:(t[e]=n,t[e].argCount=r)}function Xe(e,n,r){var i=t[`dynCall_`+e];return r&&r.length?i.apply(null,[n].concat(r)):i.call(null,n)}var Ze=[];function Qe(e){var t=Ze[e];return t||(e>=Ze.length&&(Ze.length=e+1),Ze[e]=t=T.get(e)),t}function Z(e,t,n){return e.includes(`j`)?Xe(e,t,n):Qe(t).apply(null,n)}function $e(e,t){var n=[];return function(){return n.length=0,Object.assign(n,arguments),Z(e,t,n)}}function et(e,t){e=V(e);function n(){return e.includes(`j`)?$e(e,t):Qe(t)}var r=n();return typeof r!=`function`&&U(`unknown function pointer with signature `+e+`: `+t),r}var tt=void 0;function nt(e,t){var n=[],r={};function i(e){if(!r[e]&&!Oe[e]){if(N[e]){N[e].forEach(i);return}n.push(e),r[e]=!0}}throw t.forEach(i),new tt(e+`: `+n.map(He).join([`, `]))}function rt(e,t,n,r,i,a,o){var s=Je(t,n);e=V(e),i=et(r,i),ze(e,function(){nt(`Cannot call `+e+` due to unbound types`,s)},t-1),je([],s,function(n){var r=[n[0],null].concat(n.slice(1));return Ye(e,qe(e,r,null,i,a,o),t-1),[]})}function it(e,t,n){switch(t){case 0:return n?function(e){return g[e]}:function(e){return _[e]};case 1:return n?function(e){return v[e>>1]}:function(e){return y[e>>1]};case 2:return n?function(e){return b[e>>2]}:function(e){return x[e>>2]};default:throw TypeError(`Unknown integer type: `+e)}}function at(e,t,n,r,i){t=V(t),i===-1&&(i=4294967295);var a=Pe(n),o=e=>e;if(r===0){var s=32-8*n;o=e=>e<<s>>>s}var c=t.includes(`unsigned`);W(e,{name:t,fromWireType:o,toWireType:c?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:it(t,a,r!==0),destructorFunction:null})}function ot(e,t,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){e>>=2;var t=x,n=t[e],i=t[e+1];return new r(t.buffer,i,n)}n=V(n),W(e,{name:n,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})}function st(e,t){t=V(t);var n=t===`std::string`;W(e,{name:t,fromWireType:function(e){var t=x[e>>2],r=e+4,i;if(n)for(var a=r,o=0;o<=t;++o){var s=r+o;if(o==t||_[s]==0){var c=s-a,l=ee(a,c);i===void 0?i=l:(i+=`\0`,i+=l),a=s+1}}else{for(var u=Array(t),o=0;o<t;++o)u[o]=String.fromCharCode(_[r+o]);i=u.join(``)}return Pt(e),i},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r,i=typeof t==`string`;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||U(`Cannot pass non-string to std::string`),r=n&&i?ne(t):t.length;var a=Nt(4+r+1),o=a+4;if(x[a>>2]=r,n&&i)h(t,o,r+1);else if(i)for(var s=0;s<r;++s){var c=t.charCodeAt(s);c>255&&(Pt(o),U(`String has UTF-16 code units that do not fit in 8 bits`)),_[o+s]=c}else for(var s=0;s<r;++s)_[o+s]=t[s];return e!==null&&e.push(Pt,a),a},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:function(e){Pt(e)}})}function ct(e,t){for(var n=``,r=0;!(r>=t/2);++r){var i=v[e+r*2>>1];if(i==0)break;n+=String.fromCharCode(i)}return n}function lt(e,t,n){if(n===void 0&&(n=2147483647),n<2)return 0;n-=2;for(var r=t,i=n<e.length*2?n/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);v[t>>1]=o,t+=2}return v[t>>1]=0,t-r}function ut(e){return e.length*2}function dt(e,t){for(var n=0,r=``;!(n>=t/4);){var i=b[e+n*4>>2];if(i==0)break;if(++n,i>=65536){var a=i-65536;r+=String.fromCharCode(55296|a>>10,56320|a&1023)}else r+=String.fromCharCode(i)}return r}function ft(e,t,n){if(n===void 0&&(n=2147483647),n<4)return 0;for(var r=t,i=r+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343){var s=e.charCodeAt(++a);o=65536+((o&1023)<<10)|s&1023}if(b[t>>2]=o,t+=4,t+4>i)break}return b[t>>2]=0,t-r}function pt(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function mt(e,t,n){n=V(n);var r,i,a,o,s;t===2?(r=ct,i=lt,o=ut,a=()=>y,s=1):t===4&&(r=dt,i=ft,o=pt,a=()=>x,s=2),W(e,{name:n,fromWireType:function(e){for(var n=x[e>>2],i=a(),o,c=e+4,l=0;l<=n;++l){var u=e+4+l*t;if(l==n||i[u>>s]==0){var d=u-c,f=r(c,d);o===void 0?o=f:(o+=`\0`,o+=f),c=u+t}}return Pt(e),o},toWireType:function(e,r){typeof r!=`string`&&U(`Cannot pass non-string to C++ string type `+n);var a=o(r),c=Nt(4+a+t);return x[c>>2]=a>>s,i(r,c+4,a+t),e!==null&&e.push(Pt,c),c},argPackAdvance:8,readValueFromPointer:Ee,destructorFunction:function(e){Pt(e)}})}function ht(e,t,n,r,i,a){we[e]={name:V(t),rawConstructor:et(n,r),rawDestructor:et(i,a),fields:[]}}function gt(e,t,n,r,i,a,o,s,c,l){we[e].fields.push({fieldName:V(t),getterReturnType:n,getter:et(r,i),getterContext:a,setterArgumentType:o,setter:et(s,c),setterContext:l})}function _t(e,t){t=V(t),W(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}var vt={};function yt(e){var t=vt[e];return t===void 0?V(e):t}function bt(){if(typeof globalThis==`object`)return globalThis;function e(e){e.$$$embind_global$$$=e;var t=typeof $$$embind_global$$$==`object`&&e.$$$embind_global$$$==e;return t||delete e.$$$embind_global$$$,t}if(typeof $$$embind_global$$$==`object`||(typeof global==`object`&&e(global)?$$$embind_global$$$=global:typeof self==`object`&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$==`object`))return $$$embind_global$$$;throw Error(`unable to get global object.`)}function xt(e){return e===0?Le.toHandle(bt()):(e=yt(e),Le.toHandle(bt()[e]))}function St(e){e>4&&(q[e].refcount+=1)}function Ct(e){var t=Array(e+1);return function(n,r,i){t[0]=n;for(var a=0;a<e;++a){var o=Ue(x[r+a*4>>2],`parameter `+a);t[a+1]=o.readValueFromPointer(i),i+=o.argPackAdvance}var s=new(n.bind.apply(n,t));return Le.toHandle(s)}}var wt={};function Tt(e,t,n,r){e=Le.toValue(e);var i=wt[t];return i||(i=Ct(t),wt[t]=i),i(e,n,r)}function Et(){ge(``)}function Dt(e,t,n){_.copyWithin(e,t,t+n)}function Ot(){return 2147483648}function kt(e){var t=f.buffer;try{return f.grow(e-t.byteLength+65535>>>16),re(),1}catch{}}function At(e){var t=_.length;e>>>=0;var n=Ot();if(e>n)return!1;let r=(e,t)=>e+(t-e%t)%t;for(var i=1;i<=4;i*=2){var a=t*(1+.2/i);if(a=Math.min(a,e+100663296),kt(Math.min(n,r(Math.max(e,a),65536))))return!0}return!1}Ae=t.InternalError=L(Error,`InternalError`),z(),H=t.BindingError=L(Error,`BindingError`),Ie(),tt=t.UnboundTypeError=L(Error,`UnboundTypeError`);var jt={k:Ce,m:Me,o:Ne,t:G,s:X,q:Ve,d:We,h:Ke,f:rt,c:at,b:ot,i:st,e:mt,n:ht,a:gt,u:_t,j:J,w:xt,l:St,v:Tt,g:Et,r:Dt,p:At};A();var Mt=function(){return(Mt=t.asm.y).apply(null,arguments)},Nt=function(){return(Nt=t.asm.z).apply(null,arguments)},Pt=function(){return(Pt=t.asm.A).apply(null,arguments)},Ft=t.___getTypeName=function(){return(Ft=t.___getTypeName=t.asm.B).apply(null,arguments)},It=t.__embind_initialize_bindings=function(){return(It=t.__embind_initialize_bindings=t.asm.C).apply(null,arguments)},Lt=function(){return(Lt=t.asm.__errno_location).apply(null,arguments)},Rt=function(){return(Rt=t.asm.E).apply(null,arguments)},zt=t.dynCall_jiiii=function(){return(zt=t.dynCall_jiiii=t.asm.F).apply(null,arguments)},Bt;D=function e(){Bt||Vt(),Bt||(D=e)};function Vt(){if(E>0||(se(),E>0))return;function e(){Bt||(Bt=!0,t.calledRun=!0,!p&&(ce(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),le()))}t.setStatus?(t.setStatus(`Running...`),setTimeout(function(){setTimeout(function(){t.setStatus(``)},1),e()},1)):e()}if(t.preInit)for(typeof t.preInit==`function`&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Vt(),t.ready})})(),w=C})),T=n({default:()=>oe}),ie,ae,oe,se=t((()=>{ie={url:self.location.href},ae=(()=>{var e=self.location.href;return(function(t={}){var t=t===void 0?{}:t,n,r;t.ready=new Promise(function(e,t){n=e,r=t});let i=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<`u`&&globalThis.caches&&globalThis.caches.default!==void 0,a=typeof process==`object`&&process.release&&process.release.name===`node`;(i||a)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(e,t,n){this.data=e,this.width=t,this.height=n}}),self.location.href===void 0&&(ie.url=`https://localhost`),typeof self<`u`&&self.location===void 0&&(self.location={href:``}));var o=Object.assign({},t),s=typeof window==`object`,c=typeof importScripts==`function`;typeof process==`object`&&typeof process.versions==`object`&&process.versions.node;var l=``;function u(e){return t.locateFile?t.locateFile(e,l):l+e}var d;(s||c)&&(c?l=self.location.href:typeof document<`u`&&document.currentScript&&(l=document.currentScript.src),e&&(l=e),l=l.indexOf(`blob:`)===0?``:l.substr(0,l.replace(/[?#].*/,``).lastIndexOf(`/`)+1),c&&(d=e=>{var t=new XMLHttpRequest;return t.open(`GET`,e,!1),t.responseType=`arraybuffer`,t.send(null),new Uint8Array(t.response)})),t.print||console.log.bind(console);var f=t.printErr||console.warn.bind(console);Object.assign(t,o),o=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit;var p;t.wasmBinary&&(p=t.wasmBinary),t.noExitRuntime,typeof WebAssembly!=`object`&&ve(`no native wasm support detected`);var m,ee=!1;function te(e,t,n){for(var r=t+n,i=``;!(t>=r);){var a=e[t++];if(!a)return i;if(!(a&128)){i+=String.fromCharCode(a);continue}var o=e[t++]&63;if((a&224)==192){i+=String.fromCharCode((a&31)<<6|o);continue}var s=e[t++]&63;if(a=(a&240)==224?(a&15)<<12|o<<6|s:(a&7)<<18|o<<12|s<<6|e[t++]&63,a<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|c&1023)}}return i}function h(e,t){return e?te(y,e,t):``}function ne(e,t,n,r){if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){var c=e.charCodeAt(++o);s=65536+((s&1023)<<10)|c&1023}if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|s&63}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|s&63}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|s&63}}return t[n]=0,n-i}function g(e,t,n){return ne(e,y,t,n)}function _(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t}var v,y,b,x,S,C,w,re;function T(){var e=m.buffer;t.HEAP8=v=new Int8Array(e),t.HEAP16=b=new Int16Array(e),t.HEAP32=S=new Int32Array(e),t.HEAPU8=y=new Uint8Array(e),t.HEAPU16=x=new Uint16Array(e),t.HEAPU32=C=new Uint32Array(e),t.HEAPF32=w=new Float32Array(e),t.HEAPF64=re=new Float64Array(e)}var ae,oe=[],se=[],ce=[];function le(){if(t.preRun)for(typeof t.preRun==`function`&&(t.preRun=[t.preRun]);t.preRun.length;)fe(t.preRun.shift());M(oe)}function ue(){M(se)}function de(){if(t.postRun)for(typeof t.postRun==`function`&&(t.postRun=[t.postRun]);t.postRun.length;)pe(t.postRun.shift());M(ce)}function fe(e){oe.unshift(e)}function E(e){se.unshift(e)}function pe(e){ce.unshift(e)}var D=0,me=null,he=null;function ge(e){D++,t.monitorRunDependencies&&t.monitorRunDependencies(D)}function _e(e){if(D--,t.monitorRunDependencies&&t.monitorRunDependencies(D),D==0&&(me!==null&&(clearInterval(me),me=null),he)){var n=he;he=null,n()}}function ve(e){t.onAbort&&t.onAbort(e),e=`Aborted(`+e+`)`,f(e),ee=!0,e+=`. Build with -sASSERTIONS for more info.`;var n=new WebAssembly.RuntimeError(e);throw r(n),n}var ye=`data:application/octet-stream;base64,`;function O(e){return e.startsWith(ye)}var be;t.locateFile?(be=`webp_enc.wasm`,O(be)||(be=u(be))):be=new URL(`/convert/assets/webp_enc-BpZvKflB.wasm`,``+self.location.href).href;function xe(e){try{if(e==be&&p)return new Uint8Array(p);if(d)return d(e);throw`both async and sync fetching of the wasm failed`}catch(e){ve(e)}}function k(e){return!p&&(s||c)&&typeof fetch==`function`?fetch(e,{credentials:`same-origin`}).then(function(t){if(!t.ok)throw`failed to load wasm binary file at '`+e+`'`;return t.arrayBuffer()}).catch(function(){return xe(e)}):Promise.resolve().then(function(){return xe(e)})}function A(e,t,n){return k(e).then(function(e){return WebAssembly.instantiate(e,t)}).then(function(e){return e}).then(n,function(e){f(`failed to asynchronously prepare wasm: `+e),ve(e)})}function Se(e,t,n,r){return!e&&typeof WebAssembly.instantiateStreaming==`function`&&!O(t)&&typeof fetch==`function`?fetch(t,{credentials:`same-origin`}).then(function(e){return WebAssembly.instantiateStreaming(e,n).then(r,function(e){return f(`wasm streaming compile failed: `+e),f(`falling back to ArrayBuffer instantiation`),A(t,n,r)})}):A(t,n,r)}function j(){var e={a:Nt};function n(e,n){var r=e.exports;return t.asm=r,m=t.asm.x,T(),ae=t.asm.D,E(t.asm.y),_e(`wasm-instantiate`),r}ge(`wasm-instantiate`);function i(e){n(e.instance)}if(t.instantiateWasm)try{return t.instantiateWasm(e,n)}catch(e){f(`Module.instantiateWasm callback failed with error: `+e),r(e)}return Se(p,be,e,i).catch(r),{}}function M(e){for(;e.length>0;)e.shift()(t)}function Ce(e){this.excPtr=e,this.ptr=e-24,this.set_type=function(e){C[this.ptr+4>>2]=e},this.get_type=function(){return C[this.ptr+4>>2]},this.set_destructor=function(e){C[this.ptr+8>>2]=e},this.get_destructor=function(){return C[this.ptr+8>>2]},this.set_refcount=function(e){S[this.ptr>>2]=e},this.set_caught=function(e){e=e?1:0,v[this.ptr+12>>0]=e},this.get_caught=function(){return v[this.ptr+12>>0]!=0},this.set_rethrown=function(e){e=e?1:0,v[this.ptr+13>>0]=e},this.get_rethrown=function(){return v[this.ptr+13>>0]!=0},this.init=function(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var e=S[this.ptr>>2];S[this.ptr>>2]=e+1},this.release_ref=function(){var e=S[this.ptr>>2];return S[this.ptr>>2]=e-1,e===1},this.set_adjusted_ptr=function(e){C[this.ptr+16>>2]=e},this.get_adjusted_ptr=function(){return C[this.ptr+16>>2]},this.get_exception_ptr=function(){if(Bt(this.get_type()))return C[this.excPtr>>2];var e=this.get_adjusted_ptr();return e===0?this.excPtr:e}}var we=0;function Te(e,t,n){throw new Ce(e).init(t,n),we++,e}var Ee={};function De(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Oe(e){return this.fromWireType(S[e>>2])}var N={},ke={},P={},F=48,I=57;function L(e){if(e===void 0)return`_unknown`;e=e.replace(/[^a-zA-Z0-9_]/g,`$`);var t=e.charCodeAt(0);return t>=F&&t<=I?`_`+e:e}function Ae(e,t){return e=L(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function R(e,t){var n=Ae(t,function(e){this.name=t,this.message=e;var n=Error(e).stack;n!==void 0&&(this.stack=this.toString()+`
`+n.replace(/^Error(:[^\n]*)?\n/,``))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:this.name+`: `+this.message},n}var je=void 0;function Me(e){throw new je(e)}function Ne(e,t,n){e.forEach(function(e){P[e]=t});function r(t){var r=n(t);r.length!==e.length&&Me(`Mismatched type converter count`);for(var i=0;i<e.length;++i)K(e[i],r[i])}var i=Array(t.length),a=[],o=0;t.forEach((e,t)=>{ke.hasOwnProperty(e)?i[t]=ke[e]:(a.push(e),N.hasOwnProperty(e)||(N[e]=[]),N[e].push(()=>{i[t]=ke[e],++o,o===a.length&&r(i)}))}),a.length===0&&r(i)}function Pe(e){var t=Ee[e];delete Ee[e];var n=t.rawConstructor,r=t.rawDestructor,i=t.fields,a=i.map(e=>e.getterReturnType).concat(i.map(e=>e.setterArgumentType));Ne([e],a,e=>{var a={};return i.forEach((t,n)=>{var r=t.fieldName,o=e[n],s=t.getter,c=t.getterContext,l=e[n+i.length],u=t.setter,d=t.setterContext;a[r]={read:e=>o.fromWireType(s(c,e)),write:(e,t)=>{var n=[];u(d,e,l.toWireType(n,t)),De(n)}}}),[{name:t.name,fromWireType:function(e){var t={};for(var n in a)t[n]=a[n].read(e);return r(e),t},toWireType:function(e,t){for(var i in a)if(!(i in t))throw TypeError(`Missing field:  "`+i+`"`);var o=n();for(i in a)a[i].write(o,t[i]);return e!==null&&e.push(r,o),o},argPackAdvance:8,readValueFromPointer:Oe,destructorFunction:r}]})}function z(e,t,n,r,i){}function B(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw TypeError(`Unknown type size: `+e)}}function V(){for(var e=Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);H=e}var H=void 0;function U(e){for(var t=``,n=e;y[n];)t+=H[y[n++]];return t}var W=void 0;function G(e){throw new W(e)}function K(e,t,n={}){if(!(`argPackAdvance`in t))throw TypeError(`registerType registeredInstance requires argPackAdvance`);var r=t.name;if(e||G(`type "`+r+`" must have a positive integer typeid pointer`),ke.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;G(`Cannot register type '`+r+`' twice`)}if(ke[e]=t,delete P[e],N.hasOwnProperty(e)){var i=N[e];delete N[e],i.forEach(e=>e())}}function q(e,t,n,r,i){var a=B(n);t=U(t),K(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:i},argPackAdvance:8,readValueFromPointer:function(e){var r;if(n===1)r=v;else if(n===2)r=b;else if(n===4)r=S;else throw TypeError(`Unknown boolean type size: `+t);return this.fromWireType(r[e>>a])},destructorFunction:null})}var J=[],Y=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Fe(e){e>4&&--Y[e].refcount===0&&(Y[e]=void 0,J.push(e))}function Ie(){for(var e=0,t=5;t<Y.length;++t)Y[t]!==void 0&&++e;return e}function Le(){for(var e=5;e<Y.length;++e)if(Y[e]!==void 0)return Y[e];return null}function X(){t.count_emval_handles=Ie,t.get_first_emval=Le}var Re={toValue:e=>(e||G(`Cannot use deleted val. handle = `+e),Y[e].value),toHandle:e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=J.length?J.pop():Y.length;return Y[t]={refcount:1,value:e},t}}};function ze(e,t){t=U(t),K(e,{name:t,fromWireType:function(e){var t=Re.toValue(e);return Fe(e),t},toWireType:function(e,t){return Re.toHandle(t)},argPackAdvance:8,readValueFromPointer:Oe,destructorFunction:null})}function Be(e,t,n){if(e[t].overloadTable===void 0){var r=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||G(`Function '`+n+`' called with an invalid number of arguments (`+arguments.length+`) - expects one of (`+e[t].overloadTable+`)!`),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}}function Ve(e,n,r){t.hasOwnProperty(e)?((r===void 0||t[e].overloadTable!==void 0&&t[e].overloadTable[r]!==void 0)&&G(`Cannot register public name '`+e+`' twice`),Be(t,e,e),t.hasOwnProperty(r)&&G(`Cannot register multiple overloads of a function with the same number of arguments (`+r+`)!`),t[e].overloadTable[r]=n):(t[e]=n,r!==void 0&&(t[e].numArguments=r))}function He(e,t,n){switch(t){case 0:return function(e){var t=n?v:y;return this.fromWireType(t[e])};case 1:return function(e){var t=n?b:x;return this.fromWireType(t[e>>1])};case 2:return function(e){var t=n?S:C;return this.fromWireType(t[e>>2])};default:throw TypeError(`Unknown integer type: `+e)}}function Ue(e,t,n,r){var i=B(n);t=U(t);function a(){}a.values={},K(e,{name:t,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:He(t,i,r),destructorFunction:null}),Ve(t,a)}function We(e){var t=Lt(e),n=U(t);return It(t),n}function Ge(e,t){var n=ke[e];return n===void 0&&G(t+` has unknown type `+We(e)),n}function Ke(e,t,n){var r=Ge(e,`enum`);t=U(t);var i=r.constructor,a=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:Ae(r.name+`_`+t,function(){})}});i.values[n]=a,i[t]=a}function qe(e,t){switch(t){case 2:return function(e){return this.fromWireType(w[e>>2])};case 3:return function(e){return this.fromWireType(re[e>>3])};default:throw TypeError(`Unknown float type: `+e)}}function Je(e,t,n){var r=B(n);t=U(t),K(e,{name:t,fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:qe(t,r),destructorFunction:null})}function Ye(e,t,n,r,i,a){var o=t.length;o<2&&G(`argTypes array size mismatch! Must at least get return value and 'this' types!`);for(var s=t[1]!==null&&n!==null,c=!1,l=1;l<t.length;++l)if(t[l]!==null&&t[l].destructorFunction===void 0){c=!0;break}var u=t[0].name!==`void`,d=o-2,f=Array(d),p=[],m=[];return function(){arguments.length!==d&&G(`function `+e+` called with `+arguments.length+` arguments, expected `+d+` args!`),m.length=0;var n;p.length=s?2:1,p[0]=i,s&&(n=t[1].toWireType(m,this),p[1]=n);for(var a=0;a<d;++a)f[a]=t[a+2].toWireType(m,arguments[a]),p.push(f[a]);var o=r.apply(null,p);function l(e){if(c)De(m);else for(var r=s?1:2;r<t.length;r++){var i=r===1?n:f[r-2];t[r].destructorFunction!==null&&t[r].destructorFunction(i)}if(u)return t[0].fromWireType(e)}return l(o)}}function Xe(e,t){for(var n=[],r=0;r<e;r++)n.push(C[t+r*4>>2]);return n}function Ze(e,n,r){t.hasOwnProperty(e)||Me(`Replacing nonexistant public symbol`),t[e].overloadTable!==void 0&&r!==void 0?t[e].overloadTable[r]=n:(t[e]=n,t[e].argCount=r)}function Qe(e,n,r){var i=t[`dynCall_`+e];return r&&r.length?i.apply(null,[n].concat(r)):i.call(null,n)}var Z=[];function $e(e){var t=Z[e];return t||(e>=Z.length&&(Z.length=e+1),Z[e]=t=ae.get(e)),t}function et(e,t,n){return e.includes(`j`)?Qe(e,t,n):$e(t).apply(null,n)}function tt(e,t){var n=[];return function(){return n.length=0,Object.assign(n,arguments),et(e,t,n)}}function nt(e,t){e=U(e);function n(){return e.includes(`j`)?tt(e,t):$e(t)}var r=n();return typeof r!=`function`&&G(`unknown function pointer with signature `+e+`: `+t),r}var rt=void 0;function it(e,t){var n=[],r={};function i(e){if(!r[e]&&!ke[e]){if(P[e]){P[e].forEach(i);return}n.push(e),r[e]=!0}}throw t.forEach(i),new rt(e+`: `+n.map(We).join([`, `]))}function at(e,t,n,r,i,a,o){var s=Xe(t,n);e=U(e),i=nt(r,i),Ve(e,function(){it(`Cannot call `+e+` due to unbound types`,s)},t-1),Ne([],s,function(n){var r=[n[0],null].concat(n.slice(1));return Ze(e,Ye(e,r,null,i,a,o),t-1),[]})}function ot(e,t,n){switch(t){case 0:return n?function(e){return v[e]}:function(e){return y[e]};case 1:return n?function(e){return b[e>>1]}:function(e){return x[e>>1]};case 2:return n?function(e){return S[e>>2]}:function(e){return C[e>>2]};default:throw TypeError(`Unknown integer type: `+e)}}function st(e,t,n,r,i){t=U(t),i===-1&&(i=4294967295);var a=B(n),o=e=>e;if(r===0){var s=32-8*n;o=e=>e<<s>>>s}var c=t.includes(`unsigned`);K(e,{name:t,fromWireType:o,toWireType:c?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:ot(t,a,r!==0),destructorFunction:null})}function ct(e,t,n){var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){e>>=2;var t=C,n=t[e],i=t[e+1];return new r(t.buffer,i,n)}n=U(n),K(e,{name:n,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})}function lt(e,t){t=U(t);var n=t===`std::string`;K(e,{name:t,fromWireType:function(e){var t=C[e>>2],r=e+4,i;if(n)for(var a=r,o=0;o<=t;++o){var s=r+o;if(o==t||y[s]==0){var c=s-a,l=h(a,c);i===void 0?i=l:(i+=`\0`,i+=l),a=s+1}}else{for(var u=Array(t),o=0;o<t;++o)u[o]=String.fromCharCode(y[r+o]);i=u.join(``)}return It(e),i},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r,i=typeof t==`string`;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||G(`Cannot pass non-string to std::string`),r=n&&i?_(t):t.length;var a=Ft(4+r+1),o=a+4;if(C[a>>2]=r,n&&i)g(t,o,r+1);else if(i)for(var s=0;s<r;++s){var c=t.charCodeAt(s);c>255&&(It(o),G(`String has UTF-16 code units that do not fit in 8 bits`)),y[o+s]=c}else for(var s=0;s<r;++s)y[o+s]=t[s];return e!==null&&e.push(It,a),a},argPackAdvance:8,readValueFromPointer:Oe,destructorFunction:function(e){It(e)}})}function ut(e,t){for(var n=``,r=0;!(r>=t/2);++r){var i=b[e+r*2>>1];if(i==0)break;n+=String.fromCharCode(i)}return n}function dt(e,t,n){if(n===void 0&&(n=2147483647),n<2)return 0;n-=2;for(var r=t,i=n<e.length*2?n/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);b[t>>1]=o,t+=2}return b[t>>1]=0,t-r}function ft(e){return e.length*2}function pt(e,t){for(var n=0,r=``;!(n>=t/4);){var i=S[e+n*4>>2];if(i==0)break;if(++n,i>=65536){var a=i-65536;r+=String.fromCharCode(55296|a>>10,56320|a&1023)}else r+=String.fromCharCode(i)}return r}function mt(e,t,n){if(n===void 0&&(n=2147483647),n<4)return 0;for(var r=t,i=r+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343){var s=e.charCodeAt(++a);o=65536+((o&1023)<<10)|s&1023}if(S[t>>2]=o,t+=4,t+4>i)break}return S[t>>2]=0,t-r}function ht(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t}function gt(e,t,n){n=U(n);var r,i,a,o,s;t===2?(r=ut,i=dt,o=ft,a=()=>x,s=1):t===4&&(r=pt,i=mt,o=ht,a=()=>C,s=2),K(e,{name:n,fromWireType:function(e){for(var n=C[e>>2],i=a(),o,c=e+4,l=0;l<=n;++l){var u=e+4+l*t;if(l==n||i[u>>s]==0){var d=u-c,f=r(c,d);o===void 0?o=f:(o+=`\0`,o+=f),c=u+t}}return It(e),o},toWireType:function(e,r){typeof r!=`string`&&G(`Cannot pass non-string to C++ string type `+n);var a=o(r),c=Ft(4+a+t);return C[c>>2]=a>>s,i(r,c+4,a+t),e!==null&&e.push(It,c),c},argPackAdvance:8,readValueFromPointer:Oe,destructorFunction:function(e){It(e)}})}function _t(e,t,n,r,i,a){Ee[e]={name:U(t),rawConstructor:nt(n,r),rawDestructor:nt(i,a),fields:[]}}function vt(e,t,n,r,i,a,o,s,c,l){Ee[e].fields.push({fieldName:U(t),getterReturnType:n,getter:nt(r,i),getterContext:a,setterArgumentType:o,setter:nt(s,c),setterContext:l})}function yt(e,t){t=U(t),K(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})}var bt={};function xt(e){var t=bt[e];return t===void 0?U(e):t}function St(){if(typeof globalThis==`object`)return globalThis;function e(e){e.$$$embind_global$$$=e;var t=typeof $$$embind_global$$$==`object`&&e.$$$embind_global$$$==e;return t||delete e.$$$embind_global$$$,t}if(typeof $$$embind_global$$$==`object`||(typeof global==`object`&&e(global)?$$$embind_global$$$=global:typeof self==`object`&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$==`object`))return $$$embind_global$$$;throw Error(`unable to get global object.`)}function Ct(e){return e===0?Re.toHandle(St()):(e=xt(e),Re.toHandle(St()[e]))}function wt(e){e>4&&(Y[e].refcount+=1)}function Tt(e){var t=Array(e+1);return function(n,r,i){t[0]=n;for(var a=0;a<e;++a){var o=Ge(C[r+a*4>>2],`parameter `+a);t[a+1]=o.readValueFromPointer(i),i+=o.argPackAdvance}var s=new(n.bind.apply(n,t));return Re.toHandle(s)}}var Et={};function Dt(e,t,n,r){e=Re.toValue(e);var i=Et[t];return i||(i=Tt(t),Et[t]=i),i(e,n,r)}function Ot(){ve(``)}function kt(e,t,n){y.copyWithin(e,t,t+n)}function At(){return 2147483648}function jt(e){var t=m.buffer;try{return m.grow(e-t.byteLength+65535>>>16),T(),1}catch{}}function Mt(e){var t=y.length;e>>>=0;var n=At();if(e>n)return!1;let r=(e,t)=>e+(t-e%t)%t;for(var i=1;i<=4;i*=2){var a=t*(1+.2/i);if(a=Math.min(a,e+100663296),jt(Math.min(n,r(Math.max(e,a),65536))))return!0}return!1}je=t.InternalError=R(Error,`InternalError`),V(),W=t.BindingError=R(Error,`BindingError`),X(),rt=t.UnboundTypeError=R(Error,`UnboundTypeError`);var Nt={k:Te,m:Pe,o:z,t:q,s:ze,q:Ue,d:Ke,h:Je,f:at,c:st,b:ct,i:lt,e:gt,n:_t,a:vt,u:yt,j:Fe,w:Ct,l:wt,v:Dt,g:Ot,r:kt,p:Mt};j();var Pt=function(){return(Pt=t.asm.y).apply(null,arguments)},Ft=function(){return(Ft=t.asm.z).apply(null,arguments)},It=function(){return(It=t.asm.A).apply(null,arguments)},Lt=t.___getTypeName=function(){return(Lt=t.___getTypeName=t.asm.B).apply(null,arguments)},Rt=t.__embind_initialize_bindings=function(){return(Rt=t.__embind_initialize_bindings=t.asm.C).apply(null,arguments)},zt=function(){return(zt=t.asm.__errno_location).apply(null,arguments)},Bt=function(){return(Bt=t.asm.E).apply(null,arguments)},Vt;he=function e(){Vt||Ht(),Vt||(he=e)};function Ht(){if(D>0||(le(),D>0))return;function e(){Vt||(Vt=!0,t.calledRun=!0,!ee&&(ue(),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),de()))}t.setStatus?(t.setStatus(`Running...`),setTimeout(function(){setTimeout(function(){t.setStatus(``)},1),e()},1)):e()}if(t.preInit)for(typeof t.preInit==`function`&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return Ht(),t.ready})})(),oe=ae}));let ce;async function le(e,t){let n=e,r=t;return arguments.length===1&&!(e instanceof WebAssembly.Module)&&(n=void 0,r=e),await a()?(ce=b((await Promise.resolve().then(()=>(re(),x))).default,n,r),ce):(ce=b((await Promise.resolve().then(()=>(se(),T))).default,n,r),ce)}async function ue(e,t={}){ce||=le();let n={...y,...t},r=(await ce).encode(e.data,e.width,e.height,n);if(!r)throw Error(`Encoding error.`);return r.buffer}var de={url:self.location.href},fe=(()=>{var e=self.location.href;return(function(t={}){var n=t,r,i,a=new Promise((e,t)=>{r=e,i=t});let o=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<`u`&&globalThis.caches&&globalThis.caches.default!==void 0,s=typeof process==`object`&&process.release&&process.release.name===`node`;(o||s)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(e,t,n){this.data=e,this.width=t,this.height=n}}),self.location.href===void 0&&(de.url=`https://localhost`),typeof self<`u`&&self.location===void 0&&(self.location={href:``}));var c=Object.assign({},n),l=`./this.program`,u=(e,t)=>{throw t},d=typeof window==`object`,f=typeof importScripts==`function`;typeof process==`object`&&typeof process.versions==`object`&&process.versions.node;var p=``;function m(e){return n.locateFile?n.locateFile(e,p):p+e}var ee;(d||f)&&(f?p=self.location.href:typeof document<`u`&&document.currentScript&&(p=document.currentScript.src),e&&(p=e),p=p.startsWith(`blob:`)?``:p.substr(0,p.replace(/[?#].*/,``).lastIndexOf(`/`)+1),f&&(ee=e=>{var t=new XMLHttpRequest;return t.open(`GET`,e,!1),t.responseType=`arraybuffer`,t.send(null),new Uint8Array(t.response)}));var te=n.print||console.log.bind(console),h=n.printErr||console.error.bind(console);Object.assign(n,c),c=null,n.arguments&&n.arguments,n.thisProgram&&(l=n.thisProgram),n.quit&&(u=n.quit);var ne;n.wasmBinary&&(ne=n.wasmBinary);var g,_=!1,v,y,b,x,S,C,w,re;function T(){var e=g.buffer;n.HEAP8=v=new Int8Array(e),n.HEAP16=b=new Int16Array(e),n.HEAPU8=y=new Uint8Array(e),n.HEAPU16=x=new Uint16Array(e),n.HEAP32=S=new Int32Array(e),n.HEAPU32=C=new Uint32Array(e),n.HEAPF32=w=new Float32Array(e),n.HEAPF64=re=new Float64Array(e)}var ie=[],ae=[],oe=[];function se(){if(n.preRun)for(typeof n.preRun==`function`&&(n.preRun=[n.preRun]);n.preRun.length;)ue(n.preRun.shift());M(ie)}function ce(){M(ae)}function le(){if(n.postRun)for(typeof n.postRun==`function`&&(n.postRun=[n.postRun]);n.postRun.length;)E(n.postRun.shift());M(oe)}function ue(e){ie.unshift(e)}function fe(e){ae.unshift(e)}function E(e){oe.unshift(e)}var pe=0,D=null,me=null;function he(e){pe++,n.monitorRunDependencies?.(pe)}function ge(e){if(pe--,n.monitorRunDependencies?.(pe),pe==0&&(D!==null&&(clearInterval(D),D=null),me)){var t=me;me=null,t()}}function _e(e){n.onAbort?.(e),e=`Aborted(`+e+`)`,h(e),_=!0,e+=`. Build with -sASSERTIONS for more info.`;var t=new WebAssembly.RuntimeError(e);throw i(t),t}var ve=`data:application/octet-stream;base64,`,ye=e=>e.startsWith(ve),O;n.locateFile?(O=`mozjpeg_enc.wasm`,ye(O)||(O=m(O))):O=new URL(`/convert/assets/mozjpeg_enc-DO-zoExo.wasm`,``+self.location.href).href;function be(e){if(e==O&&ne)return new Uint8Array(ne);if(ee)return ee(e);throw`both async and sync fetching of the wasm failed`}function xe(e){return!ne&&(d||f)&&typeof fetch==`function`?fetch(e,{credentials:`same-origin`}).then(t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()}).catch(()=>be(e)):Promise.resolve().then(()=>be(e))}function k(e,t,n){return xe(e).then(e=>WebAssembly.instantiate(e,t)).then(n,e=>{h(`failed to asynchronously prepare wasm: ${e}`),_e(e)})}function A(e,t,n,r){return!e&&typeof WebAssembly.instantiateStreaming==`function`&&!ye(t)&&typeof fetch==`function`?fetch(t,{credentials:`same-origin`}).then(e=>WebAssembly.instantiateStreaming(e,n).then(r,function(e){return h(`wasm streaming compile failed: ${e}`),h(`falling back to ArrayBuffer instantiation`),k(t,n,r)})):k(t,n,r)}function Se(){var e={a:rn};function t(e,t){return an=e.exports,g=an.C,T(),Ye=an.H,fe(an.D),ge(`wasm-instantiate`),an}he(`wasm-instantiate`);function r(e){t(e.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(e){h(`Module.instantiateWasm callback failed with error: ${e}`),i(e)}return A(ne,O,e,r).catch(i),{}}function j(e){this.name=`ExitStatus`,this.message=`Program terminated with exit(${e})`,this.status=e}var M=e=>{for(;e.length>0;)e.shift()(n)},Ce=n.noExitRuntime||!0;class we{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){C[this.ptr+4>>2]=e}get_type(){return C[this.ptr+4>>2]}set_destructor(e){C[this.ptr+8>>2]=e}get_destructor(){return C[this.ptr+8>>2]}set_caught(e){e=e?1:0,v[this.ptr+12]=e}get_caught(){return v[this.ptr+12]!=0}set_rethrown(e){e=e?1:0,v[this.ptr+13]=e}get_rethrown(){return v[this.ptr+13]!=0}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){C[this.ptr+16>>2]=e}get_adjusted_ptr(){return C[this.ptr+16>>2]}get_exception_ptr(){if(mn(this.get_type()))return C[this.excPtr>>2];var e=this.get_adjusted_ptr();return e===0?this.excPtr:e}}var Te=0,Ee=0,De=(e,t,n)=>{throw new we(e).init(t,n),Te=e,Ee++,Te},Oe={},N=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function ke(e){return this.fromWireType(C[e>>2])}var P={},F={},I={},L,Ae=e=>{throw new L(e)},R=(e,t,n)=>{e.forEach(function(e){I[e]=t});function r(t){var r=n(t);r.length!==e.length&&Ae(`Mismatched type converter count`);for(var i=0;i<e.length;++i)U(e[i],r[i])}var i=Array(t.length),a=[],o=0;t.forEach((e,t)=>{F.hasOwnProperty(e)?i[t]=F[e]:(a.push(e),P.hasOwnProperty(e)||(P[e]=[]),P[e].push(()=>{i[t]=F[e],++o,o===a.length&&r(i)}))}),a.length===0&&r(i)},je=e=>{var t=Oe[e];delete Oe[e];var n=t.rawConstructor,r=t.rawDestructor,i=t.fields,a=i.map(e=>e.getterReturnType).concat(i.map(e=>e.setterArgumentType));R([e],a,e=>{var a={};return i.forEach((t,n)=>{var r=t.fieldName,o=e[n],s=t.getter,c=t.getterContext,l=e[n+i.length],u=t.setter,d=t.setterContext;a[r]={read:e=>o.fromWireType(s(c,e)),write:(e,t)=>{var n=[];u(d,e,l.toWireType(n,t)),N(n)}}}),[{name:t.name,fromWireType:e=>{var t={};for(var n in a)t[n]=a[n].read(e);return r(e),t},toWireType:(e,t)=>{for(var i in a)if(!(i in t))throw TypeError(`Missing field: "${i}"`);var o=n();for(i in a)a[i].write(o,t[i]);return e!==null&&e.push(r,o),o},argPackAdvance:W,readValueFromPointer:ke,destructorFunction:r}]})},Me=(e,t,n,r,i)=>{},Ne=()=>{for(var e=Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);Pe=e},Pe,z=e=>{for(var t=``,n=e;y[n];)t+=Pe[y[n++]];return t},B,V=e=>{throw new B(e)};function H(e,t,n={}){var r=t.name;if(e||V(`type "${r}" must have a positive integer typeid pointer`),F.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;V(`Cannot register type '${r}' twice`)}if(F[e]=t,delete I[e],P.hasOwnProperty(e)){var i=P[e];delete P[e],i.forEach(e=>e())}}function U(e,t,n={}){if(!(`argPackAdvance`in t))throw TypeError(`registerType registeredInstance requires argPackAdvance`);return H(e,t,n)}var W=8,G=(e,t,n,r)=>{t=z(t),U(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:r},argPackAdvance:W,readValueFromPointer:function(e){return this.fromWireType(y[e])},destructorFunction:null})},K=[],q=[],J=e=>{e>9&&--q[e+1]===0&&(q[e]=void 0,K.push(e))},Y=()=>q.length/2-5-K.length,Fe=()=>{q.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=Y},Ie={toValue:e=>(e||V(`Cannot use deleted val. handle = `+e),q[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let t=K.pop()||q.length;return q[t]=e,q[t+1]=1,t}}}},Le={name:`emscripten::val`,fromWireType:e=>{var t=Ie.toValue(e);return J(e),t},toWireType:(e,t)=>Ie.toHandle(t),argPackAdvance:W,readValueFromPointer:ke,destructorFunction:null},X=e=>U(e,Le),Re=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(w[e>>2])};case 8:return function(e){return this.fromWireType(re[e>>3])};default:throw TypeError(`invalid float width (${t}): ${e}`)}},ze=(e,t,n)=>{t=z(t),U(e,{name:t,fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:W,readValueFromPointer:Re(t,n),destructorFunction:null})},Be=(e,t)=>Object.defineProperty(t,`name`,{value:e});function Ve(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function He(e,t,n,r,i,a){var o=t.length;o<2&&V(`argTypes array size mismatch! Must at least get return value and 'this' types!`);var s=t[1]!==null&&n!==null,c=Ve(t),l=t[0].name!==`void`,u=o-2,d=Array(u),f=[],p=[];return Be(e,function(...n){n.length!==u&&V(`function ${e} called with ${n.length} arguments, expected ${u}`),p.length=0;var a;f.length=s?2:1,f[0]=i,s&&(a=t[1].toWireType(p,this),f[1]=a);for(var o=0;o<u;++o)d[o]=t[o+2].toWireType(p,n[o]),f.push(d[o]);var m=r(...f);function ee(e){if(c)N(p);else for(var n=s?1:2;n<t.length;n++){var r=n===1?a:d[n-2];t[n].destructorFunction!==null&&t[n].destructorFunction(r)}if(l)return t[0].fromWireType(e)}return ee(m)})}var Ue=(e,t,n)=>{if(e[t].overloadTable===void 0){var r=e[t];e[t]=function(...r){return e[t].overloadTable.hasOwnProperty(r.length)||V(`Function '${n}' called with an invalid number of arguments (${r.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[r.length].apply(this,r)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}},We=(e,t,r)=>{n.hasOwnProperty(e)?((r===void 0||n[e].overloadTable!==void 0&&n[e].overloadTable[r]!==void 0)&&V(`Cannot register public name '${e}' twice`),Ue(n,e,e),n.hasOwnProperty(r)&&V(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),n[e].overloadTable[r]=t):(n[e]=t,r!==void 0&&(n[e].numArguments=r))},Ge=(e,t)=>{for(var n=[],r=0;r<e;r++)n.push(C[t+r*4>>2]);return n},Ke=(e,t,r)=>{n.hasOwnProperty(e)||Ae(`Replacing nonexistent public symbol`),n[e].overloadTable!==void 0&&r!==void 0?n[e].overloadTable[r]=t:(n[e]=t,n[e].argCount=r)},qe=(e,t,r)=>{e=e.replace(/p/g,`i`);var i=n[`dynCall_`+e];return i(t,...r)},Je=[],Ye,Xe=e=>{var t=Je[e];return t||(e>=Je.length&&(Je.length=e+1),Je[e]=t=Ye.get(e)),t},Ze=(e,t,n=[])=>e.includes(`j`)?qe(e,t,n):Xe(t)(...n),Qe=(e,t)=>(...n)=>Ze(e,t,n),Z=(e,t)=>{e=z(e);function n(){return e.includes(`j`)?Qe(e,t):Xe(t)}var r=n();return typeof r!=`function`&&V(`unknown function pointer with signature ${e}: ${t}`),r},$e=(e,t)=>{var n=Be(t,function(e){this.name=t,this.message=e;var n=Error(e).stack;n!==void 0&&(this.stack=this.toString()+`
`+n.replace(/^Error(:[^\n]*)?\n/,``))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n},et,tt=e=>{var t=sn(e),n=z(t);return ln(t),n},nt=(e,t)=>{var n=[],r={};function i(e){if(!r[e]&&!F[e]){if(I[e]){I[e].forEach(i);return}n.push(e),r[e]=!0}}throw t.forEach(i),new et(`${e}: `+n.map(tt).join([`, `]))},rt=e=>{e=e.trim();let t=e.indexOf(`(`);return t===-1?e:e.substr(0,t)},it=(e,t,n,r,i,a,o)=>{var s=Ge(t,n);e=z(e),e=rt(e),i=Z(r,i),We(e,function(){nt(`Cannot call ${e} due to unbound types`,s)},t-1),R([],s,n=>{var r=[n[0],null].concat(n.slice(1));return Ke(e,He(e,r,null,i,a,o),t-1),[]})},at=(e,t,n)=>{switch(t){case 1:return n?e=>v[e]:e=>y[e];case 2:return n?e=>b[e>>1]:e=>x[e>>1];case 4:return n?e=>S[e>>2]:e=>C[e>>2];default:throw TypeError(`invalid integer width (${t}): ${e}`)}},ot=(e,t,n,r,i)=>{t=z(t),i===-1&&(i=4294967295);var a=e=>e;if(r===0){var o=32-8*n;a=e=>e<<o>>>o}var s=t.includes(`unsigned`);U(e,{name:t,fromWireType:a,toWireType:s?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:W,readValueFromPointer:at(t,n,r!==0),destructorFunction:null})},st=(e,t,n)=>{var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){var t=C[e>>2],n=C[e+4>>2];return new r(v.buffer,n,t)}n=z(n),U(e,{name:n,fromWireType:i,argPackAdvance:W,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},ct=(e,t,n,r)=>{if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){var c=e.charCodeAt(++o);s=65536+((s&1023)<<10)|c&1023}if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|s&63}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|s&63}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|s&63}}return t[n]=0,n-i},lt=(e,t,n)=>ct(e,y,t,n),ut=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t},dt=(e,t,n)=>{for(var r=t+n,i=``;!(t>=r);){var a=e[t++];if(!a)return i;if(!(a&128)){i+=String.fromCharCode(a);continue}var o=e[t++]&63;if((a&224)==192){i+=String.fromCharCode((a&31)<<6|o);continue}var s=e[t++]&63;if(a=(a&240)==224?(a&15)<<12|o<<6|s:(a&7)<<18|o<<12|s<<6|e[t++]&63,a<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|c&1023)}}return i},ft=(e,t)=>e?dt(y,e,t):``,pt=(e,t)=>{t=z(t);var n=t===`std::string`;U(e,{name:t,fromWireType(e){var t=C[e>>2],r=e+4,i;if(n)for(var a=r,o=0;o<=t;++o){var s=r+o;if(o==t||y[s]==0){var c=s-a,l=ft(a,c);i===void 0?i=l:(i+=`\0`,i+=l),a=s+1}}else{for(var u=Array(t),o=0;o<t;++o)u[o]=String.fromCharCode(y[r+o]);i=u.join(``)}return ln(e),i},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r,i=typeof t==`string`;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||V(`Cannot pass non-string to std::string`),r=n&&i?ut(t):t.length;var a=cn(4+r+1),o=a+4;if(C[a>>2]=r,n&&i)lt(t,o,r+1);else if(i)for(var s=0;s<r;++s){var c=t.charCodeAt(s);c>255&&(ln(o),V(`String has UTF-16 code units that do not fit in 8 bits`)),y[o+s]=c}else for(var s=0;s<r;++s)y[o+s]=t[s];return e!==null&&e.push(ln,a),a},argPackAdvance:W,readValueFromPointer:ke,destructorFunction(e){ln(e)}})},mt=(e,t)=>{for(var n=``,r=0;!(r>=t/2);++r){var i=b[e+r*2>>1];if(i==0)break;n+=String.fromCharCode(i)}return n},ht=(e,t,n)=>{if(n??=2147483647,n<2)return 0;n-=2;for(var r=t,i=n<e.length*2?n/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);b[t>>1]=o,t+=2}return b[t>>1]=0,t-r},gt=e=>e.length*2,_t=(e,t)=>{for(var n=0,r=``;!(n>=t/4);){var i=S[e+n*4>>2];if(i==0)break;if(++n,i>=65536){var a=i-65536;r+=String.fromCharCode(55296|a>>10,56320|a&1023)}else r+=String.fromCharCode(i)}return r},vt=(e,t,n)=>{if(n??=2147483647,n<4)return 0;for(var r=t,i=r+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343){var s=e.charCodeAt(++a);o=65536+((o&1023)<<10)|s&1023}if(S[t>>2]=o,t+=4,t+4>i)break}return S[t>>2]=0,t-r},yt=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t},bt=(e,t,n)=>{n=z(n);var r,i,a,o;t===2?(r=mt,i=ht,o=gt,a=e=>x[e>>1]):t===4&&(r=_t,i=vt,o=yt,a=e=>C[e>>2]),U(e,{name:n,fromWireType:e=>{for(var n=C[e>>2],i,o=e+4,s=0;s<=n;++s){var c=e+4+s*t;if(s==n||a(c)==0){var l=c-o,u=r(o,l);i===void 0?i=u:(i+=`\0`,i+=u),o=c+t}}return ln(e),i},toWireType:(e,r)=>{typeof r!=`string`&&V(`Cannot pass non-string to C++ string type ${n}`);var a=o(r),s=cn(4+a+t);return C[s>>2]=a/t,i(r,s+4,a+t),e!==null&&e.push(ln,s),s},argPackAdvance:W,readValueFromPointer:ke,destructorFunction(e){ln(e)}})},xt=(e,t,n,r,i,a)=>{Oe[e]={name:z(t),rawConstructor:Z(n,r),rawDestructor:Z(i,a),fields:[]}},St=(e,t,n,r,i,a,o,s,c,l)=>{Oe[e].fields.push({fieldName:z(t),getterReturnType:n,getter:Z(r,i),getterContext:a,setterArgumentType:o,setter:Z(s,c),setterContext:l})},Ct=(e,t)=>{t=z(t),U(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>void 0,toWireType:(e,t)=>void 0})},wt=(e,t,n)=>y.copyWithin(e,t,t+n),Tt=[],Et=(e,t,n,r)=>(e=Tt[e],t=Ie.toValue(t),e(null,t,n,r)),Dt={},Ot=e=>{var t=Dt[e];return t===void 0?z(e):t},kt=()=>{if(typeof globalThis==`object`)return globalThis;function e(e){e.$$$embind_global$$$=e;var t=typeof $$$embind_global$$$==`object`&&e.$$$embind_global$$$==e;return t||delete e.$$$embind_global$$$,t}if(typeof $$$embind_global$$$==`object`||(typeof global==`object`&&e(global)?$$$embind_global$$$=global:typeof self==`object`&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$==`object`))return $$$embind_global$$$;throw Error(`unable to get global object.`)},At=e=>e===0?Ie.toHandle(kt()):(e=Ot(e),Ie.toHandle(kt()[e])),jt=e=>{var t=Tt.length;return Tt.push(e),t},Mt=(e,t)=>{var n=F[e];return n===void 0&&V(`${t} has unknown type ${tt(e)}`),n},Nt=(e,t)=>{for(var n=Array(e),r=0;r<e;++r)n[r]=Mt(C[t+r*4>>2],`parameter `+r);return n},Pt=Reflect.construct,Ft=(e,t,n)=>{var r=[],i=e.toWireType(r,n);return r.length&&(C[t>>2]=Ie.toHandle(r)),i},It=(e,t,n)=>{var r=Nt(e,t),i=r.shift();e--;var a=Array(e);return jt(Be(`methodCaller<(${r.map(e=>e.name).join(`, `)}) => ${i.name}>`,(t,o,s,c)=>{for(var l=0,u=0;u<e;++u)a[u]=r[u].readValueFromPointer(c+l),l+=r[u].argPackAdvance;return Ft(i,s,n===1?Pt(o,a):o.apply(t,a))}))},Lt=e=>{N(Ie.toValue(e)),J(e)},Rt=()=>{_e(``)},zt=()=>2147483648,Bt=e=>{var t=(e-g.buffer.byteLength+65535)/65536;try{return g.grow(t),T(),1}catch{}},Vt=e=>{var t=y.length;e>>>=0;var n=zt();if(e>n)return!1;for(var r=(e,t)=>e+(t-e%t)%t,i=1;i<=4;i*=2){var a=t*(1+.2/i);if(a=Math.min(a,e+100663296),Bt(Math.min(n,r(Math.max(e,a),65536))))return!0}return!1},Ht={},Ut=()=>l||`./this.program`,Wt=()=>{if(!Wt.strings){var e={USER:`web_user`,LOGNAME:`web_user`,PATH:`/`,PWD:`/`,HOME:`/home/web_user`,LANG:(typeof navigator==`object`&&navigator.languages&&navigator.languages[0]||`C`).replace(`-`,`_`)+`.UTF-8`,_:Ut()};for(var t in Ht)Ht[t]===void 0?delete e[t]:e[t]=Ht[t];var n=[];for(var t in e)n.push(`${t}=${e[t]}`);Wt.strings=n}return Wt.strings},Gt=(e,t)=>{for(var n=0;n<e.length;++n)v[t++]=e.charCodeAt(n);v[t]=0},Kt=(e,t)=>{var n=0;return Wt().forEach((r,i)=>{var a=t+n;C[e+i*4>>2]=a,Gt(r,a),n+=r.length+1}),0},qt=(e,t)=>{var n=Wt();C[e>>2]=n.length;var r=0;return n.forEach(e=>r+=e.length+1),C[t>>2]=r,0},Jt=0,Yt=()=>Ce||Jt>0,Xt=e=>{Yt()||(n.onExit?.(e),_=!0),u(e,new j(e))},Zt=(e,t)=>{Xt(e)},Qt=e=>52,Q=(e,t)=>t+2097152>>>0<4194305-!!e?(e>>>0)+t*4294967296:NaN;function $t(e,t,n,r,i){return Q(t,n),70}var en=[null,[],[]],tn=(e,t)=>{var n=en[e];t===0||t===10?((e===1?te:h)(dt(n,0)),n.length=0):n.push(t)},nn=(e,t,n,r)=>{for(var i=0,a=0;a<n;a++){var o=C[t>>2],s=C[t+4>>2];t+=8;for(var c=0;c<s;c++)tn(e,y[o+c]);i+=s}return C[r>>2]=i,0};L=n.InternalError=class extends Error{constructor(e){super(e),this.name=`InternalError`}},Ne(),B=n.BindingError=class extends Error{constructor(e){super(e),this.name=`BindingError`}},Fe(),et=n.UnboundTypeError=$e(Error,`UnboundTypeError`);var rn={j:De,k:je,n:Me,h:G,z:X,f:ze,e:it,c:ot,a:st,g:pt,d:bt,l:xt,b:St,i:Ct,s:wt,y:Et,u:J,A:At,x:It,w:Lt,o:Rt,p:Vt,q:Kt,r:qt,B:Zt,t:Qt,m:$t,v:nn},an=Se(),on=()=>(on=an.D)(),sn=e=>(sn=an.E)(e),cn=e=>(cn=an.F)(e),ln=e=>(ln=an.G)(e),un=e=>(un=an._emscripten_stack_restore)(e),dn=e=>(dn=an._emscripten_stack_alloc)(e),fn=()=>(fn=an.emscripten_stack_get_current)(),pn=e=>(pn=an.__cxa_increment_exception_refcount)(e),mn=e=>(mn=an.I)(e),hn=n.dynCall_jiji=(e,t,r,i,a)=>(hn=n.dynCall_jiji=an.J)(e,t,r,i,a),gn;me=function e(){gn||_n(),gn||(me=e)};function _n(){if(pe>0||(se(),pe>0))return;function e(){gn||(gn=!0,n.calledRun=!0,!_&&(ce(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),le()))}n.setStatus?(n.setStatus(`Running...`),setTimeout(function(){setTimeout(function(){n.setStatus(``)},1),e()},1)):e()}if(n.preInit)for(typeof n.preInit==`function`&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return _n(),a})})();let E={quality:75,baseline:!1,arithmetic:!1,progressive:!0,optimize_coding:!0,smoothing:0,color_space:3,quant_table:3,trellis_multipass:!1,trellis_opt_zero:!1,trellis_opt_table:!1,trellis_loops:1,auto_subsample:!0,chroma_subsample:2,separate_chroma_quality:!1,chroma_quality:75},pe={preserveOrientation:!1};function D(e,t,n={}){let r;return t&&(r=(e,n)=>{let r=new WebAssembly.Instance(t,e);return n(r),r.exports}),e({noInitialRun:!0,instantiateWasm:r,...n})}let me;async function he(e,t){let n=e,r=t;arguments.length===1&&!(e instanceof WebAssembly.Module)&&(n=void 0,r=e),me=D(fe,n,r)}async function ge(e,t={}){me||he();let n=await me,r={...E,...t};return n.encode(e.data,e.width,e.height,r).buffer}var _e={url:self.location.href},ve=(()=>{var e=self.location.href;return(function(t={}){var n=t,r,i,a=new Promise((e,t)=>{r=e,i=t});let o=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<`u`&&globalThis.caches&&globalThis.caches.default!==void 0,s=typeof process==`object`&&process.release&&process.release.name===`node`;(o||s)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(e,t,n){this.data=e,this.width=t,this.height=n}}),self.location.href===void 0&&(_e.url=`https://localhost`),typeof self<`u`&&self.location===void 0&&(self.location={href:``}));var c=Object.assign({},n),l=`./this.program`,u=(e,t)=>{throw t},d=typeof window==`object`,f=typeof importScripts==`function`;typeof process==`object`&&typeof process.versions==`object`&&process.versions.node;var p=``;function m(e){return n.locateFile?n.locateFile(e,p):p+e}var ee;(d||f)&&(f?p=self.location.href:typeof document<`u`&&document.currentScript&&(p=document.currentScript.src),e&&(p=e),p=p.startsWith(`blob:`)?``:p.substr(0,p.replace(/[?#].*/,``).lastIndexOf(`/`)+1),f&&(ee=e=>{var t=new XMLHttpRequest;return t.open(`GET`,e,!1),t.responseType=`arraybuffer`,t.send(null),new Uint8Array(t.response)}));var te=n.print||console.log.bind(console),h=n.printErr||console.error.bind(console);Object.assign(n,c),c=null,n.arguments&&n.arguments,n.thisProgram&&(l=n.thisProgram),n.quit&&(u=n.quit);var ne;n.wasmBinary&&(ne=n.wasmBinary);var g,_=!1,v,y,b,x,S,C,w,re;function T(){var e=g.buffer;n.HEAP8=v=new Int8Array(e),n.HEAP16=b=new Int16Array(e),n.HEAPU8=y=new Uint8Array(e),n.HEAPU16=x=new Uint16Array(e),n.HEAP32=S=new Int32Array(e),n.HEAPU32=C=new Uint32Array(e),n.HEAPF32=w=new Float32Array(e),n.HEAPF64=re=new Float64Array(e)}var ie=[],ae=[],oe=[];function se(){if(n.preRun)for(typeof n.preRun==`function`&&(n.preRun=[n.preRun]);n.preRun.length;)ue(n.preRun.shift());M(ie)}function ce(){M(ae)}function le(){if(n.postRun)for(typeof n.postRun==`function`&&(n.postRun=[n.postRun]);n.postRun.length;)fe(n.postRun.shift());M(oe)}function ue(e){ie.unshift(e)}function de(e){ae.unshift(e)}function fe(e){oe.unshift(e)}var E=0,pe=null,D=null;function me(e){E++,n.monitorRunDependencies?.(E)}function he(e){if(E--,n.monitorRunDependencies?.(E),E==0&&(pe!==null&&(clearInterval(pe),pe=null),D)){var t=D;D=null,t()}}function ge(e){n.onAbort?.(e),e=`Aborted(`+e+`)`,h(e),_=!0,e+=`. Build with -sASSERTIONS for more info.`;var t=new WebAssembly.RuntimeError(e);throw i(t),t}var ve=`data:application/octet-stream;base64,`,ye=e=>e.startsWith(ve),O;n.locateFile?(O=`mozjpeg_dec.wasm`,ye(O)||(O=m(O))):O=new URL(`/convert/assets/mozjpeg_dec-muSO2n8T.wasm`,``+self.location.href).href;function be(e){if(e==O&&ne)return new Uint8Array(ne);if(ee)return ee(e);throw`both async and sync fetching of the wasm failed`}function xe(e){return!ne&&(d||f)&&typeof fetch==`function`?fetch(e,{credentials:`same-origin`}).then(t=>{if(!t.ok)throw`failed to load wasm binary file at '${e}'`;return t.arrayBuffer()}).catch(()=>be(e)):Promise.resolve().then(()=>be(e))}function k(e,t,n){return xe(e).then(e=>WebAssembly.instantiate(e,t)).then(n,e=>{h(`failed to asynchronously prepare wasm: ${e}`),ge(e)})}function A(e,t,n,r){return!e&&typeof WebAssembly.instantiateStreaming==`function`&&!ye(t)&&typeof fetch==`function`?fetch(t,{credentials:`same-origin`}).then(e=>WebAssembly.instantiateStreaming(e,n).then(r,function(e){return h(`wasm streaming compile failed: ${e}`),h(`falling back to ArrayBuffer instantiation`),k(t,n,r)})):k(t,n,r)}function Se(){var e={a:en};function t(e,t){return tn=e.exports,g=tn.A,T(),qe=tn.F,de(tn.B),he(`wasm-instantiate`),tn}me(`wasm-instantiate`);function r(e){t(e.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(e,t)}catch(e){h(`Module.instantiateWasm callback failed with error: ${e}`),i(e)}return A(ne,O,e,r).catch(i),{}}function j(e){this.name=`ExitStatus`,this.message=`Program terminated with exit(${e})`,this.status=e}var M=e=>{for(;e.length>0;)e.shift()(n)},Ce=n.noExitRuntime||!0;class we{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){C[this.ptr+4>>2]=e}get_type(){return C[this.ptr+4>>2]}set_destructor(e){C[this.ptr+8>>2]=e}get_destructor(){return C[this.ptr+8>>2]}set_caught(e){e=e?1:0,v[this.ptr+12]=e}get_caught(){return v[this.ptr+12]!=0}set_rethrown(e){e=e?1:0,v[this.ptr+13]=e}get_rethrown(){return v[this.ptr+13]!=0}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){C[this.ptr+16>>2]=e}get_adjusted_ptr(){return C[this.ptr+16>>2]}get_exception_ptr(){if(dn(this.get_type()))return C[this.excPtr>>2];var e=this.get_adjusted_ptr();return e===0?this.excPtr:e}}var Te=0,Ee=0,De=(e,t,n)=>{throw new we(e).init(t,n),Te=e,Ee++,Te},Oe=(e,t,n,r,i)=>{},N=()=>{for(var e=Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);ke=e},ke,P=e=>{for(var t=``,n=e;y[n];)t+=ke[y[n++]];return t},F={},I={},L={},Ae,R=e=>{throw new Ae(e)},je,Me=e=>{throw new je(e)},Ne=(e,t,n)=>{e.forEach(function(e){L[e]=t});function r(t){var r=n(t);r.length!==e.length&&Me(`Mismatched type converter count`);for(var i=0;i<e.length;++i)z(e[i],r[i])}var i=Array(t.length),a=[],o=0;t.forEach((e,t)=>{I.hasOwnProperty(e)?i[t]=I[e]:(a.push(e),F.hasOwnProperty(e)||(F[e]=[]),F[e].push(()=>{i[t]=I[e],++o,o===a.length&&r(i)}))}),a.length===0&&r(i)};function Pe(e,t,n={}){var r=t.name;if(e||R(`type "${r}" must have a positive integer typeid pointer`),I.hasOwnProperty(e)){if(n.ignoreDuplicateRegistrations)return;R(`Cannot register type '${r}' twice`)}if(I[e]=t,delete L[e],F.hasOwnProperty(e)){var i=F[e];delete F[e],i.forEach(e=>e())}}function z(e,t,n={}){if(!(`argPackAdvance`in t))throw TypeError(`registerType registeredInstance requires argPackAdvance`);return Pe(e,t,n)}var B=8,V=(e,t,n,r)=>{t=P(t),z(e,{name:t,fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:r},argPackAdvance:B,readValueFromPointer:function(e){return this.fromWireType(y[e])},destructorFunction:null})},H=[],U=[],W=e=>{e>9&&--U[e+1]===0&&(U[e]=void 0,H.push(e))},G=()=>U.length/2-5-H.length,K=()=>{U.push(0,1,void 0,1,null,1,!0,1,!1,1),n.count_emval_handles=G},q={toValue:e=>(e||R(`Cannot use deleted val. handle = `+e),U[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{let t=H.pop()||U.length;return U[t]=e,U[t+1]=1,t}}}};function J(e){return this.fromWireType(C[e>>2])}var Y={name:`emscripten::val`,fromWireType:e=>{var t=q.toValue(e);return W(e),t},toWireType:(e,t)=>q.toHandle(t),argPackAdvance:B,readValueFromPointer:J,destructorFunction:null},Fe=e=>z(e,Y),Ie=(e,t)=>{switch(t){case 4:return function(e){return this.fromWireType(w[e>>2])};case 8:return function(e){return this.fromWireType(re[e>>3])};default:throw TypeError(`invalid float width (${t}): ${e}`)}},Le=(e,t,n)=>{t=P(t),z(e,{name:t,fromWireType:e=>e,toWireType:(e,t)=>t,argPackAdvance:B,readValueFromPointer:Ie(t,n),destructorFunction:null})},X=(e,t)=>Object.defineProperty(t,`name`,{value:e}),Re=e=>{for(;e.length;){var t=e.pop();e.pop()(t)}};function ze(e){for(var t=1;t<e.length;++t)if(e[t]!==null&&e[t].destructorFunction===void 0)return!0;return!1}function Be(e,t,n,r,i,a){var o=t.length;o<2&&R(`argTypes array size mismatch! Must at least get return value and 'this' types!`);var s=t[1]!==null&&n!==null,c=ze(t),l=t[0].name!==`void`,u=o-2,d=Array(u),f=[],p=[];return X(e,function(...n){n.length!==u&&R(`function ${e} called with ${n.length} arguments, expected ${u}`),p.length=0;var a;f.length=s?2:1,f[0]=i,s&&(a=t[1].toWireType(p,this),f[1]=a);for(var o=0;o<u;++o)d[o]=t[o+2].toWireType(p,n[o]),f.push(d[o]);var m=r(...f);function ee(e){if(c)Re(p);else for(var n=s?1:2;n<t.length;n++){var r=n===1?a:d[n-2];t[n].destructorFunction!==null&&t[n].destructorFunction(r)}if(l)return t[0].fromWireType(e)}return ee(m)})}var Ve=(e,t,n)=>{if(e[t].overloadTable===void 0){var r=e[t];e[t]=function(...r){return e[t].overloadTable.hasOwnProperty(r.length)||R(`Function '${n}' called with an invalid number of arguments (${r.length}) - expects one of (${e[t].overloadTable})!`),e[t].overloadTable[r.length].apply(this,r)},e[t].overloadTable=[],e[t].overloadTable[r.argCount]=r}},He=(e,t,r)=>{n.hasOwnProperty(e)?((r===void 0||n[e].overloadTable!==void 0&&n[e].overloadTable[r]!==void 0)&&R(`Cannot register public name '${e}' twice`),Ve(n,e,e),n.hasOwnProperty(r)&&R(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),n[e].overloadTable[r]=t):(n[e]=t,r!==void 0&&(n[e].numArguments=r))},Ue=(e,t)=>{for(var n=[],r=0;r<e;r++)n.push(C[t+r*4>>2]);return n},We=(e,t,r)=>{n.hasOwnProperty(e)||Me(`Replacing nonexistent public symbol`),n[e].overloadTable!==void 0&&r!==void 0?n[e].overloadTable[r]=t:(n[e]=t,n[e].argCount=r)},Ge=(e,t,r)=>{e=e.replace(/p/g,`i`);var i=n[`dynCall_`+e];return i(t,...r)},Ke=[],qe,Je=e=>{var t=Ke[e];return t||(e>=Ke.length&&(Ke.length=e+1),Ke[e]=t=qe.get(e)),t},Ye=(e,t,n=[])=>e.includes(`j`)?Ge(e,t,n):Je(t)(...n),Xe=(e,t)=>(...n)=>Ye(e,t,n),Ze=(e,t)=>{e=P(e);function n(){return e.includes(`j`)?Xe(e,t):Je(t)}var r=n();return typeof r!=`function`&&R(`unknown function pointer with signature ${e}: ${t}`),r},Qe=(e,t)=>{var n=X(t,function(e){this.name=t,this.message=e;var n=Error(e).stack;n!==void 0&&(this.stack=this.toString()+`
`+n.replace(/^Error(:[^\n]*)?\n/,``))});return n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},n},Z,$e=e=>{var t=rn(e),n=P(t);return on(t),n},et=(e,t)=>{var n=[],r={};function i(e){if(!r[e]&&!I[e]){if(L[e]){L[e].forEach(i);return}n.push(e),r[e]=!0}}throw t.forEach(i),new Z(`${e}: `+n.map($e).join([`, `]))},tt=e=>{e=e.trim();let t=e.indexOf(`(`);return t===-1?e:e.substr(0,t)},nt=(e,t,n,r,i,a,o)=>{var s=Ue(t,n);e=P(e),e=tt(e),i=Ze(r,i),He(e,function(){et(`Cannot call ${e} due to unbound types`,s)},t-1),Ne([],s,n=>{var r=[n[0],null].concat(n.slice(1));return We(e,Be(e,r,null,i,a,o),t-1),[]})},rt=(e,t,n)=>{switch(t){case 1:return n?e=>v[e]:e=>y[e];case 2:return n?e=>b[e>>1]:e=>x[e>>1];case 4:return n?e=>S[e>>2]:e=>C[e>>2];default:throw TypeError(`invalid integer width (${t}): ${e}`)}},it=(e,t,n,r,i)=>{t=P(t),i===-1&&(i=4294967295);var a=e=>e;if(r===0){var o=32-8*n;a=e=>e<<o>>>o}var s=t.includes(`unsigned`);z(e,{name:t,fromWireType:a,toWireType:s?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:B,readValueFromPointer:rt(t,n,r!==0),destructorFunction:null})},at=(e,t,n)=>{var r=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function i(e){var t=C[e>>2],n=C[e+4>>2];return new r(v.buffer,n,t)}n=P(n),z(e,{name:n,fromWireType:i,argPackAdvance:B,readValueFromPointer:i},{ignoreDuplicateRegistrations:!0})},ot=(e,t,n,r)=>{if(!(r>0))return 0;for(var i=n,a=n+r-1,o=0;o<e.length;++o){var s=e.charCodeAt(o);if(s>=55296&&s<=57343){var c=e.charCodeAt(++o);s=65536+((s&1023)<<10)|c&1023}if(s<=127){if(n>=a)break;t[n++]=s}else if(s<=2047){if(n+1>=a)break;t[n++]=192|s>>6,t[n++]=128|s&63}else if(s<=65535){if(n+2>=a)break;t[n++]=224|s>>12,t[n++]=128|s>>6&63,t[n++]=128|s&63}else{if(n+3>=a)break;t[n++]=240|s>>18,t[n++]=128|s>>12&63,t[n++]=128|s>>6&63,t[n++]=128|s&63}}return t[n]=0,n-i},st=(e,t,n)=>ot(e,y,t,n),ct=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r<=127?t++:r<=2047?t+=2:r>=55296&&r<=57343?(t+=4,++n):t+=3}return t},lt=(e,t,n)=>{for(var r=t+n,i=``;!(t>=r);){var a=e[t++];if(!a)return i;if(!(a&128)){i+=String.fromCharCode(a);continue}var o=e[t++]&63;if((a&224)==192){i+=String.fromCharCode((a&31)<<6|o);continue}var s=e[t++]&63;if(a=(a&240)==224?(a&15)<<12|o<<6|s:(a&7)<<18|o<<12|s<<6|e[t++]&63,a<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|c&1023)}}return i},ut=(e,t)=>e?lt(y,e,t):``,dt=(e,t)=>{t=P(t);var n=t===`std::string`;z(e,{name:t,fromWireType(e){var t=C[e>>2],r=e+4,i;if(n)for(var a=r,o=0;o<=t;++o){var s=r+o;if(o==t||y[s]==0){var c=s-a,l=ut(a,c);i===void 0?i=l:(i+=`\0`,i+=l),a=s+1}}else{for(var u=Array(t),o=0;o<t;++o)u[o]=String.fromCharCode(y[r+o]);i=u.join(``)}return on(e),i},toWireType(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r,i=typeof t==`string`;i||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||R(`Cannot pass non-string to std::string`),r=n&&i?ct(t):t.length;var a=an(4+r+1),o=a+4;if(C[a>>2]=r,n&&i)st(t,o,r+1);else if(i)for(var s=0;s<r;++s){var c=t.charCodeAt(s);c>255&&(on(o),R(`String has UTF-16 code units that do not fit in 8 bits`)),y[o+s]=c}else for(var s=0;s<r;++s)y[o+s]=t[s];return e!==null&&e.push(on,a),a},argPackAdvance:B,readValueFromPointer:J,destructorFunction(e){on(e)}})},ft=(e,t)=>{for(var n=``,r=0;!(r>=t/2);++r){var i=b[e+r*2>>1];if(i==0)break;n+=String.fromCharCode(i)}return n},pt=(e,t,n)=>{if(n??=2147483647,n<2)return 0;n-=2;for(var r=t,i=n<e.length*2?n/2:e.length,a=0;a<i;++a){var o=e.charCodeAt(a);b[t>>1]=o,t+=2}return b[t>>1]=0,t-r},mt=e=>e.length*2,ht=(e,t)=>{for(var n=0,r=``;!(n>=t/4);){var i=S[e+n*4>>2];if(i==0)break;if(++n,i>=65536){var a=i-65536;r+=String.fromCharCode(55296|a>>10,56320|a&1023)}else r+=String.fromCharCode(i)}return r},gt=(e,t,n)=>{if(n??=2147483647,n<4)return 0;for(var r=t,i=r+n-4,a=0;a<e.length;++a){var o=e.charCodeAt(a);if(o>=55296&&o<=57343){var s=e.charCodeAt(++a);o=65536+((o&1023)<<10)|s&1023}if(S[t>>2]=o,t+=4,t+4>i)break}return S[t>>2]=0,t-r},_t=e=>{for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&++n,t+=4}return t},vt=(e,t,n)=>{n=P(n);var r,i,a,o;t===2?(r=ft,i=pt,o=mt,a=e=>x[e>>1]):t===4&&(r=ht,i=gt,o=_t,a=e=>C[e>>2]),z(e,{name:n,fromWireType:e=>{for(var n=C[e>>2],i,o=e+4,s=0;s<=n;++s){var c=e+4+s*t;if(s==n||a(c)==0){var l=c-o,u=r(o,l);i===void 0?i=u:(i+=`\0`,i+=u),o=c+t}}return on(e),i},toWireType:(e,r)=>{typeof r!=`string`&&R(`Cannot pass non-string to C++ string type ${n}`);var a=o(r),s=an(4+a+t);return C[s>>2]=a/t,i(r,s+4,a+t),e!==null&&e.push(on,s),s},argPackAdvance:B,readValueFromPointer:J,destructorFunction(e){on(e)}})},yt=(e,t)=>{t=P(t),z(e,{isVoid:!0,name:t,argPackAdvance:0,fromWireType:()=>void 0,toWireType:(e,t)=>void 0})},bt=(e,t,n)=>y.copyWithin(e,t,t+n),xt=[],St=(e,t,n,r)=>(e=xt[e],t=q.toValue(t),e(null,t,n,r)),Ct={},wt=e=>{var t=Ct[e];return t===void 0?P(e):t},Tt=()=>{if(typeof globalThis==`object`)return globalThis;function e(e){e.$$$embind_global$$$=e;var t=typeof $$$embind_global$$$==`object`&&e.$$$embind_global$$$==e;return t||delete e.$$$embind_global$$$,t}if(typeof $$$embind_global$$$==`object`||(typeof global==`object`&&e(global)?$$$embind_global$$$=global:typeof self==`object`&&e(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$==`object`))return $$$embind_global$$$;throw Error(`unable to get global object.`)},Et=e=>e===0?q.toHandle(Tt()):(e=wt(e),q.toHandle(Tt()[e])),Dt=e=>{var t=xt.length;return xt.push(e),t},Ot=(e,t)=>{var n=I[e];return n===void 0&&R(`${t} has unknown type ${$e(e)}`),n},kt=(e,t)=>{for(var n=Array(e),r=0;r<e;++r)n[r]=Ot(C[t+r*4>>2],`parameter `+r);return n},At=Reflect.construct,jt=(e,t,n)=>{var r=[],i=e.toWireType(r,n);return r.length&&(C[t>>2]=q.toHandle(r)),i},Mt=(e,t,n)=>{var r=kt(e,t),i=r.shift();e--;var a=Array(e);return Dt(X(`methodCaller<(${r.map(e=>e.name).join(`, `)}) => ${i.name}>`,(t,o,s,c)=>{for(var l=0,u=0;u<e;++u)a[u]=r[u].readValueFromPointer(c+l),l+=r[u].argPackAdvance;return jt(i,s,n===1?At(o,a):o.apply(t,a))}))},Nt=e=>{e>9&&(U[e+1]+=1)},Pt=e=>{Re(q.toValue(e)),W(e)},Ft=()=>{ge(``)},It=()=>2147483648,Lt=e=>{var t=(e-g.buffer.byteLength+65535)/65536;try{return g.grow(t),T(),1}catch{}},Rt=e=>{var t=y.length;e>>>=0;var n=It();if(e>n)return!1;for(var r=(e,t)=>e+(t-e%t)%t,i=1;i<=4;i*=2){var a=t*(1+.2/i);if(a=Math.min(a,e+100663296),Lt(Math.min(n,r(Math.max(e,a),65536))))return!0}return!1},zt={},Bt=()=>l||`./this.program`,Vt=()=>{if(!Vt.strings){var e={USER:`web_user`,LOGNAME:`web_user`,PATH:`/`,PWD:`/`,HOME:`/home/web_user`,LANG:(typeof navigator==`object`&&navigator.languages&&navigator.languages[0]||`C`).replace(`-`,`_`)+`.UTF-8`,_:Bt()};for(var t in zt)zt[t]===void 0?delete e[t]:e[t]=zt[t];var n=[];for(var t in e)n.push(`${t}=${e[t]}`);Vt.strings=n}return Vt.strings},Ht=(e,t)=>{for(var n=0;n<e.length;++n)v[t++]=e.charCodeAt(n);v[t]=0},Ut=(e,t)=>{var n=0;return Vt().forEach((r,i)=>{var a=t+n;C[e+i*4>>2]=a,Ht(r,a),n+=r.length+1}),0},Wt=(e,t)=>{var n=Vt();C[e>>2]=n.length;var r=0;return n.forEach(e=>r+=e.length+1),C[t>>2]=r,0},Gt=0,Kt=()=>Ce||Gt>0,qt=e=>{Kt()||(n.onExit?.(e),_=!0),u(e,new j(e))},Jt=(e,t)=>{qt(e)},Yt=e=>52,Xt=(e,t)=>t+2097152>>>0<4194305-!!e?(e>>>0)+t*4294967296:NaN;function Zt(e,t,n,r,i){return Xt(t,n),70}var Qt=[null,[],[]],Q=(e,t)=>{var n=Qt[e];t===0||t===10?((e===1?te:h)(lt(n,0)),n.length=0):n.push(t)},$t=(e,t,n,r)=>{for(var i=0,a=0;a<n;a++){var o=C[t>>2],s=C[t+4>>2];t+=8;for(var c=0;c<s;c++)Q(e,y[o+c]);i+=s}return C[r>>2]=i,0};N(),Ae=n.BindingError=class extends Error{constructor(e){super(e),this.name=`BindingError`}},je=n.InternalError=class extends Error{constructor(e){super(e),this.name=`InternalError`}},K(),Z=n.UnboundTypeError=Qe(Error,`UnboundTypeError`);var en={o:De,q:Oe,m:V,l:Fe,j:Le,f:nt,b:it,a:at,e:dt,c:vt,n:yt,v:bt,i:St,d:W,k:Et,h:Mt,y:Nt,g:Pt,r:Ft,s:Rt,t:Ut,u:Wt,z:Jt,w:Yt,p:Zt,x:$t},tn=Se(),nn=()=>(nn=tn.B)(),rn=e=>(rn=tn.C)(e),an=e=>(an=tn.D)(e),on=e=>(on=tn.E)(e),sn=e=>(sn=tn._emscripten_stack_restore)(e),cn=e=>(cn=tn._emscripten_stack_alloc)(e),ln=()=>(ln=tn.emscripten_stack_get_current)(),un=e=>(un=tn.__cxa_increment_exception_refcount)(e),dn=e=>(dn=tn.G)(e),fn=n.dynCall_jiji=(e,t,r,i,a)=>(fn=n.dynCall_jiji=tn.H)(e,t,r,i,a),pn;D=function e(){pn||mn(),pn||(D=e)};function mn(){if(E>0||(se(),E>0))return;function e(){pn||(pn=!0,n.calledRun=!0,!_&&(ce(),r(n),n.onRuntimeInitialized&&n.onRuntimeInitialized(),le()))}n.setStatus?(n.setStatus(`Running...`),setTimeout(function(){setTimeout(function(){n.setStatus(``)},1),e()},1)):e()}if(n.preInit)for(typeof n.preInit==`function`&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return mn(),a})})();let ye;async function O(e,t){let n=e,r=t;arguments.length===1&&!(e instanceof WebAssembly.Module)&&(n=void 0,r=e),ye=D(ve,n,r)}async function be(e,t={}){ye||O();let n={...pe,...t},r=(await ye).decode(e,n.preserveOrientation);if(!r)throw Error(`Decoding error`);return r}var xe={url:self.location.href};let k,A=Array(128).fill(void 0);A.push(void 0,null,!0,!1);let Se=A.length;function j(e){Se===A.length&&A.push(A.length+1);let t=Se;return Se=A[t],A[t]=e,t}function M(e){return A[e]}function Ce(e){e<132||(A[e]=Se,Se=e)}function we(e){let t=M(e);return Ce(e),t}let Te=typeof TextDecoder<`u`?new TextDecoder(`utf-8`,{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error(`TextDecoder not available`)}};typeof TextDecoder<`u`&&Te.decode();let Ee=null;function De(){return(Ee===null||Ee.byteLength===0)&&(Ee=new Uint8Array(k.memory.buffer)),Ee}function Oe(e,t){return e>>>=0,Te.decode(De().subarray(e,e+t))}let N=null;function ke(){return(N===null||N.byteLength===0)&&(N=new Uint8ClampedArray(k.memory.buffer)),N}function P(e,t){return e>>>=0,ke().subarray(e/1,e/1+t)}let F=0;function I(e,t){let n=t(e.length*1,1)>>>0;return De().set(e,n/1),F=e.length,n}let L=null;function Ae(){return(L===null||L.byteLength===0)&&(L=new Int32Array(k.memory.buffer)),L}function R(e,t){return e>>>=0,De().subarray(e/1,e/1+t)}function je(e,t,n,r){try{let s=k.__wbindgen_add_to_stack_pointer(-16),c=I(e,k.__wbindgen_malloc),l=F;k.encode(s,c,l,t,n,r);var i=Ae()[s/4+0],a=Ae()[s/4+1],o=R(i,a).slice();return k.__wbindgen_free(i,a*1,1),o}finally{k.__wbindgen_add_to_stack_pointer(16)}}function Me(e){let t=I(e,k.__wbindgen_malloc),n=F;return we(k.decode(t,n))}function Ne(e){let t=I(e,k.__wbindgen_malloc),n=F,r=k.decode_rgba16(t,n);return Pe.__wrap(r)}var Pe=class e{static __wrap(t){t>>>=0;let n=Object.create(e.prototype);return n.__wbg_ptr=t,n}__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){let e=this.__destroy_into_raw();k.__wbg_imagedatargba16_free(e)}get width(){return k.imagedatargba16_width(this.__wbg_ptr)>>>0}get height(){return k.imagedatargba16_height(this.__wbg_ptr)>>>0}get data(){return we(k.imagedatargba16_data(this.__wbg_ptr))}};async function z(e,t){if(typeof Response==`function`&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming==`function`)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if(e.headers.get(`Content-Type`)!=`application/wasm`)console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t);else throw t}let n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{let n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function B(){let e={};return e.wbg={},e.wbg.__wbindgen_memory=function(){let e=k.memory;return j(e)},e.wbg.__wbg_buffer_a448f833075b71ba=function(e){let t=M(e).buffer;return j(t)},e.wbg.__wbg_newwithbyteoffsetandlength_099217381c451830=function(e,t,n){return j(new Uint16Array(M(e),t>>>0,n>>>0))},e.wbg.__wbindgen_object_drop_ref=function(e){we(e)},e.wbg.__wbg_newwithownedu8clampedarrayandsh_91db5987993a08fb=function(e,t,n,r){var i=P(e,t).slice();return k.__wbindgen_free(e,t*1,1),j(new ImageData(i,n>>>0,r>>>0))},e.wbg.__wbindgen_throw=function(e,t){throw Error(Oe(e,t))},e}function V(e,t){return k=e.exports,H.__wbindgen_wasm_module=t,L=null,Ee=null,N=null,k}async function H(e){if(k!==void 0)return k;e===void 0&&(e=new URL(`/convert/assets/squoosh_png_bg-DAY7U9NW.wasm`,``+self.location.href));let t=B();(typeof e==`string`||typeof Request==`function`&&e instanceof Request||typeof URL==`function`&&e instanceof URL)&&(e=fetch(e));let{instance:n,module:r}=await z(await e,t);return V(n,r)}var U=H;let W=globalThis.ServiceWorkerGlobalScope!==void 0&&typeof self<`u`&&globalThis.caches&&globalThis.caches.default!==void 0,G=typeof process==`object`&&process.release&&process.release.name===`node`;(W||G)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(e,t,n){this.data=e,this.width=t,this.height=n}}),self.location.href===void 0&&(xe.url=`https://localhost`),typeof self<`u`&&self.location===void 0&&(self.location={href:``}));let K;async function q(e){return K||=U(e),K}async function J(e,t={}){await q();let n=t?.bitDepth??8;if(n!==8&&n!==16)throw Error(`Invalid bit depth. Must be either 8 or 16.`);let r=e.data instanceof Uint16Array;if(r&&n!==16)throw Error(`Invalid bit depth, must be 16 for Uint16Array or manually convert to RGB8 values with Uint8Array.`);if(!r&&n===16)throw Error(`Invalid bit depth, must be 8 for Uint8Array or manually convert to RGB16 values with Uint16Array.`);let i=await je(new Uint8Array(e.data.buffer),e.width,e.height,n);if(!i)throw Error(`Encoding error.`);return i.buffer}let Y;async function Fe(e){return Y||=U(e),Y}async function Ie(e,t={}){await Fe();let{bitDepth:n=8}=t;if(n===16){let t=await Ne(new Uint8Array(e));if(!t)throw Error(`Encoding error.`);return t}let r=await Me(new Uint8Array(e));if(!r)throw Error(`Encoding error.`);return r}var Le=Ie,X=`/convert/assets/avif_enc_mt-DFoVXd45.wasm`,Re=`/convert/assets/avif_enc-Co4TcJko.wasm`,ze=`data:text/javascript;base64,InVzZSBzdHJpY3QiO3ZhciBNb2R1bGU9e307dmFyIGluaXRpYWxpemVkSlM9ZmFsc2U7ZnVuY3Rpb24gdGhyZWFkUHJpbnRFcnIoLi4uYXJncyl7dmFyIHRleHQ9YXJncy5qb2luKCIgIik7Y29uc29sZS5lcnJvcih0ZXh0KX1mdW5jdGlvbiB0aHJlYWRBbGVydCguLi5hcmdzKXt2YXIgdGV4dD1hcmdzLmpvaW4oIiAiKTtwb3N0TWVzc2FnZSh7Y21kOiJhbGVydCIsdGV4dDp0ZXh0LHRocmVhZElkOk1vZHVsZVsiX3B0aHJlYWRfc2VsZiJdKCl9KX12YXIgZXJyPXRocmVhZFByaW50RXJyO3NlbGYuYWxlcnQ9dGhyZWFkQWxlcnQ7TW9kdWxlWyJpbnN0YW50aWF0ZVdhc20iXT0oaW5mbyxyZWNlaXZlSW5zdGFuY2UpPT57dmFyIG1vZHVsZT1Nb2R1bGVbIndhc21Nb2R1bGUiXTtNb2R1bGVbIndhc21Nb2R1bGUiXT1udWxsO3ZhciBpbnN0YW5jZT1uZXcgV2ViQXNzZW1ibHkuSW5zdGFuY2UobW9kdWxlLGluZm8pO3JldHVybiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UpfTtzZWxmLm9udW5oYW5kbGVkcmVqZWN0aW9uPWU9Pnt0aHJvdyBlLnJlYXNvbnx8ZX07ZnVuY3Rpb24gaGFuZGxlTWVzc2FnZShlKXt0cnl7aWYoZS5kYXRhLmNtZD09PSJsb2FkIil7bGV0IG1lc3NhZ2VRdWV1ZT1bXTtzZWxmLm9ubWVzc2FnZT1lPT5tZXNzYWdlUXVldWUucHVzaChlKTtzZWxmLnN0YXJ0V29ya2VyPWluc3RhbmNlPT57TW9kdWxlPWluc3RhbmNlO3Bvc3RNZXNzYWdlKHsiY21kIjoibG9hZGVkIn0pO2ZvcihsZXQgbXNnIG9mIG1lc3NhZ2VRdWV1ZSl7aGFuZGxlTWVzc2FnZShtc2cpfXNlbGYub25tZXNzYWdlPWhhbmRsZU1lc3NhZ2V9O01vZHVsZVsid2FzbU1vZHVsZSJdPWUuZGF0YS53YXNtTW9kdWxlO2Zvcihjb25zdCBoYW5kbGVyIG9mIGUuZGF0YS5oYW5kbGVycyl7TW9kdWxlW2hhbmRsZXJdPSguLi5hcmdzKT0+e3Bvc3RNZXNzYWdlKHtjbWQ6ImNhbGxIYW5kbGVyIixoYW5kbGVyOmhhbmRsZXIsYXJnczphcmdzfSl9fU1vZHVsZVsid2FzbU1lbW9yeSJdPWUuZGF0YS53YXNtTWVtb3J5O01vZHVsZVsiYnVmZmVyIl09TW9kdWxlWyJ3YXNtTWVtb3J5Il0uYnVmZmVyO01vZHVsZVsiRU5WSVJPTk1FTlRfSVNfUFRIUkVBRCJdPXRydWU7KGUuZGF0YS51cmxPckJsb2I/aW1wb3J0KGUuZGF0YS51cmxPckJsb2IpOmltcG9ydCgiLi9hdmlmX2VuY19tdC5qcyIpKS50aGVuKGV4cG9ydHM9PmV4cG9ydHMuZGVmYXVsdChNb2R1bGUpKX1lbHNlIGlmKGUuZGF0YS5jbWQ9PT0icnVuIil7TW9kdWxlWyJfX2Vtc2NyaXB0ZW5fdGhyZWFkX2luaXQiXShlLmRhdGEucHRocmVhZF9wdHIsMCwwLDEpO01vZHVsZVsiX19lbXNjcmlwdGVuX3RocmVhZF9tYWlsYm94X2F3YWl0Il0oZS5kYXRhLnB0aHJlYWRfcHRyKTtNb2R1bGVbImVzdGFibGlzaFN0YWNrU3BhY2UiXSgpO01vZHVsZVsiUFRocmVhZCJdLnJlY2VpdmVPYmplY3RUcmFuc2ZlcihlLmRhdGEpO01vZHVsZVsiUFRocmVhZCJdLnRocmVhZEluaXRUTFMoKTtpZighaW5pdGlhbGl6ZWRKUyl7TW9kdWxlWyJfX2VtYmluZF9pbml0aWFsaXplX2JpbmRpbmdzIl0oKTtpbml0aWFsaXplZEpTPXRydWV9dHJ5e01vZHVsZVsiaW52b2tlRW50cnlQb2ludCJdKGUuZGF0YS5zdGFydF9yb3V0aW5lLGUuZGF0YS5hcmcpfWNhdGNoKGV4KXtpZihleCE9InVud2luZCIpe3Rocm93IGV4fX19ZWxzZSBpZihlLmRhdGEuY21kPT09ImNhbmNlbCIpe2lmKE1vZHVsZVsiX3B0aHJlYWRfc2VsZiJdKCkpe01vZHVsZVsiX19lbXNjcmlwdGVuX3RocmVhZF9leGl0Il0oLTEpfX1lbHNlIGlmKGUuZGF0YS50YXJnZXQ9PT0ic2V0aW1tZWRpYXRlIil7fWVsc2UgaWYoZS5kYXRhLmNtZD09PSJjaGVja01haWxib3giKXtpZihpbml0aWFsaXplZEpTKXtNb2R1bGVbImNoZWNrTWFpbGJveCJdKCl9fWVsc2UgaWYoZS5kYXRhLmNtZCl7ZXJyKGB3b3JrZXIuanMgcmVjZWl2ZWQgdW5rbm93biBjb21tYW5kICR7ZS5kYXRhLmNtZH1gKTtlcnIoZS5kYXRhKX19Y2F0Y2goZXgpe01vZHVsZVsiX19lbXNjcmlwdGVuX3RocmVhZF9jcmFzaGVkIl0/LigpO3Rocm93IGV4fX1zZWxmLm9ubWVzc2FnZT1oYW5kbGVNZXNzYWdlOwo=`,Be=`/convert/assets/mozjpeg_dec-muSO2n8T.wasm`,Ve=`/convert/assets/mozjpeg_enc-DO-zoExo.wasm`,He=`/convert/assets/squoosh_png_bg-DAY7U9NW.wasm`,Ue=`/convert/assets/webp_enc-BpZvKflB.wasm`,We=`/convert/assets/webp_enc_simd-CFvKQ_80.wasm`;let Ge=self,Ke=e=>{let t=Object.entries(e);return e=>{let n=e.split(`?`)[0]?.split(`#`)[0]??e,r=t.find(([e])=>n.endsWith(e));return r?r[1]:e}},qe=Ke({"mozjpeg_dec.wasm":Be}),Je=Ke({"mozjpeg_enc.wasm":Ve}),Ye=Ke({"avif_enc_mt.wasm":X,"avif_enc.wasm":Re,"avif_enc_mt.worker.mjs":ze}),Xe=Ke({"webp_enc_simd.wasm":We,"webp_enc.wasm":Ue}),Ze=(async()=>{await Promise.all([O({locateFile:qe}),Fe(He),_({locateFile:Ye}),le({locateFile:Xe}),he({locateFile:Je}),q(He)])})(),Qe=e=>Math.min(1,Math.max(0,e)),Z=e=>{let t=Qe(e);return t<=.04045?t/12.92:((t+.055)/1.055)**2.4},$e=e=>{let t=Qe(e);return t<=.0031308?t*12.92:1.055*t**(1/2.4)-.055},et=563/256,tt=e=>Qe(e)**+et,nt=e=>Qe(e)**(1/et),rt=[[.4124564,.3575761,.1804375],[.2126729,.7151522,.072175],[.0193339,.119192,.9503041]],it=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],at=[[.5767309,.185554,.1881852],[.2973769,.6273491,.0752741],[.0270343,.0706872,.9911085]],ot=[[2.041369,-.5649464,-.3446944],[-.969266,1.8760108,.041556],[.0134474,-.1183897,1.0154096]],st={srgb:{toLinear:Z,fromLinear:$e,rgbToXyz:rt,xyzToRgb:it},"adobe-rgb":{toLinear:tt,fromLinear:nt,rgbToXyz:at,xyzToRgb:ot}},ct=(e,t)=>{let[n,r,i]=t;return[e[0][0]*n+e[0][1]*r+e[0][2]*i,e[1][0]*n+e[1][1]*r+e[1][2]*i,e[2][0]*n+e[2][1]*r+e[2][2]*i]},lt=new TextDecoder(`latin1`),ut=e=>{let t=new Uint8Array(e);if(t.length<4||t[0]!==255||t[1]!==216)return`unknown`;let n=2;for(;n+4<t.length;){if(t[n]!==255){n+=1;continue}let e=t[n+1];if(n+=2,e===218||e===217)break;let r=t[n]<<8|t[n+1];if(n+=2,r<2||n+r-2>t.length)break;if(e===226){let e=t.subarray(n,n+r-2);if(e.length>=14&&lt.decode(e.subarray(0,11)).startsWith(`ICC_PROFILE`)){let t=lt.decode(e);if(/Adobe\s?RGB/i.test(t))return`adobe-rgb`;if(/sRGB/i.test(t)||/IEC61966/i.test(t))return`srgb`}}n+=r-2}return`unknown`},dt=async(e,t)=>{if(e===`image/jpeg`){let e=ut(t);return{imageData:await be(t),profile:e}}return{imageData:await Le(t),profile:`srgb`}},ft=e=>e===`adobe-rgb`?`adobe-rgb`:`srgb`,pt=(e,t,n)=>{if(t===n)return e;let r=st[t],i=st[n],a=e.data;for(let e=0;e<a.length;e+=4){let t=r.toLinear(a[e]/255),n=r.toLinear(a[e+1]/255),o=r.toLinear(a[e+2]/255),[s,c,l]=ct(r.rgbToXyz,[t,n,o]),[u,d,f]=ct(i.xyzToRgb,[s,c,l]);a[e]=Math.round(i.fromLinear(u)*255),a[e+1]=Math.round(i.fromLinear(d)*255),a[e+2]=Math.round(i.fromLinear(f)*255)}return e},mt=(e,t)=>{if(typeof OffscreenCanvas>`u`)throw Error(`OffscreenCanvas is not supported in this environment.`);let n=new OffscreenCanvas(e,t),r=n.getContext(`2d`,{willReadFrequently:!0,colorSpace:`srgb`});if(!r)throw Error(`Unable to acquire drawing context.`);return{canvas:n,context:r}},ht=e=>{let t=mt(e.width,e.height);return t.context.putImageData(e,0,0),t},gt=(e,t)=>{if(!t||t<=0)return e;let n=Math.min(e.width,e.height);if(n===t)return e;let r=t/n,i=Math.max(1,Math.round(e.width*r)),a=Math.max(1,Math.round(e.height*r));if(i===e.width&&a===e.height)return e;let o=ht(e),s=mt(i,a);return s.context.drawImage(o.canvas,0,0,i,a),s.context.getImageData(0,0,i,a)},_t=e=>{let t=Math.min(100,Math.max(0,e)),n=Math.round(t/100*63);return Math.max(1,n)},vt=e=>{let t=e.width,n=e.height,r=new Uint8Array(t*n*3);for(let t=0,n=0;t<e.data.length;t+=4,n+=3)r[n]=e.data[t],r[n+1]=e.data[t+1],r[n+2]=e.data[t+2];let i=140+r.byteLength,a=new ArrayBuffer(i),o=new DataView(a);o.setUint8(0,73),o.setUint8(1,73),o.setUint16(2,42,!0),o.setUint32(4,8,!0),o.setUint16(8,10,!0);let s=(e,t,n,r,i)=>{let a=10+e*12;o.setUint16(a,t,!0),o.setUint16(a+2,n,!0),o.setUint32(a+4,r,!0),o.setUint32(a+8,i,!0)};return s(0,256,4,1,t),s(1,257,4,1,n),s(2,258,3,3,134),s(3,259,3,1,1),s(4,262,3,1,2),s(5,273,4,1,140),s(6,277,3,1,3),s(7,278,4,1,n),s(8,279,4,1,r.byteLength),s(9,284,3,1,1),o.setUint32(130,0,!0),new Uint16Array(a,134,3).set([8,8,8]),new Uint8Array(a,140,r.length).set(r),a},yt=async(e,t)=>t.targetType===`image/avif`?v(e,{quality:_t(t.targetQuality),enableSharpYUV:!0,chromaDeltaQ:!0,speed:5}):t.targetType===`image/webp`?ue(e,{quality:t.targetQuality,method:6,alpha_quality:90,use_sharp_yuv:1}):t.targetType===`image/jpeg`?ge(e,{quality:t.targetQuality,progressive:!0}):t.targetType===`image/png`?J(e,{bitDepth:8}):vt(e);Ge.onmessage=async e=>{let t=e.data;try{await Ze,Ge.postMessage({type:`progress`,id:t.id,progress:20});let{imageData:e,profile:n}=await dt(t.sourceType,t.buffer);Ge.postMessage({type:`progress`,id:t.id,progress:45});let r=pt(gt(e,t.shortEdge),ft(n),t.targetColorSpace);Ge.postMessage({type:`progress`,id:t.id,progress:70});let i=await yt(r,t);Ge.postMessage({type:`done`,id:t.id,buffer:i,mime:t.targetType,sourceProfile:n},[i])}catch(e){let n=e instanceof Error?e.message:`Unexpected error`;Ge.postMessage({type:`error`,id:t.id,error:n})}}})();